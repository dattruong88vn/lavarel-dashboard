!function(t){t(function(){t.widget("blk.hpaging",{options:{limit:5,activePage:1,parentID:"",navBar:null,totalPages:""},_create:function(){var a=this._getNavBar();t(this.element).after(a)},_getNavBar:function(){var a;return a=t(this.element).prop("id"),this.options.parentID=a,a=t("<div id=pg_"+a+">").addClass("pagination").data("parentID",a),this.options.navBar=a,this.setPages(this.options.activePage),a=t("<div id=pg_row>").addClass("row").html(a)},clearPages:function(){return t(this.options.navBar).empty(),t("#"+this.options.parentID+" > tbody > tr").show(),t("#"+this.options.parentID+" > tbody > tr").removeData("page"),!0},newRow:function(a){this.setPages();var i=t("#"+this.options.parentID+" > tbody > tr");a=t(i).eq(a).data("page"),this.activePage(a)},newLimit:function(t){this.options.limit=t,this.setPages()&&this.activePage(1)},setPages:function(a){var i=!1;if(this.clearPages()){var e,i=this.options.limit,s=t("#"+this.options.parentID+" > tbody > tr"),n=s.length/i;e=n,n=n.toString().split("."),2==n.length&&(e=parseInt(n[0])+1),0==e&&(e=1),n=this.options.parentID,this._setPage(n,1,"<<"),this._setPage(n,"P-1","<");for(var o,h=0,r=i,p=1;e>=p;p++)h=s.slice(h,r),o=p,t(h).removeData("page"),t(h).data("page",o),this._setPage(n,o,o),h=r,r=parseInt(r)+parseInt(i);this._setPage(n,"P+1",">"),this._setPage(n,o,">>"),this.options.totalPages=o,void 0!==a&&this.activePage(a),i=!0}return i},_setPage:function(a,i,e){a=t("<a>",{href:"#",text:e,"data-page":i}).appendTo(this.options.navBar),this._on(a,{click:"onPageClick"})},activePage:function(a){var i=1*a;this.options.activePage=i,t("#"+this.options.parentID+" > tbody > tr").each(function(){t(this).data("page")==i?t(this).show():t(this).hide()}),this._selectActivePage()},_selectActivePage:function(){var a=this.options.activePage;t(this.options.navBar).find("a").each(function(){var i=t(this).text();t(this).data("page")==a&&"<<"!=i&&">>"!=i&&(t(this).attr("class","active"),t(this).siblings().attr("class",""))})},onPageClick:function(a){a.preventDefault(),a=t(a.target).data("page"),"P-1"==a?(a=this.options.activePage-1,1>a&&(a=1)):"P+1"==a&&(a=this.options.activePage+1,a>this.options.totalPages&&(a=this.options.totalPages)),this.activePage(a)}})})}(jQuery);