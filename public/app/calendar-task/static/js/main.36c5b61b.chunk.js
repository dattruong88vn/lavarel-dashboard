(this["webpackJsonpcalendar-task-viewer"]=this["webpackJsonpcalendar-task-viewer"]||[]).push([[0],{144:function(e,t,n){},325:function(e,t,n){},334:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},444:function(e,t,n){},445:function(e,t,n){},446:function(e,t,n){},447:function(e,t,n){},476:function(e,t,n){},480:function(e,t,n){},493:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},499:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){"use strict";n.r(t);var a,c,r,o,i=n(0),s=n(17),l=n.n(s),u=n(6),d=n.n(u),m=n(12),j=n(9),b=n(561),p=n(297),f=Object(p.a)({palette:{primary:{main:"#00a93c"},secondary:{main:"#fff"}}}),v=n(201),h=n(29),O=Object(i.createContext)({currentUserId:159,loading:!1,respStatus:!1,checkPermission:function(e){},setLoading:function(e){},setRespStatus:function(e){}}),x=(n(325),n(1)),g=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("div",{className:"title",children:"401 Forbidden."}),Object(x.jsxs)("p",{style:{textAlign:"center",color:"black"},children:["B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp t\xednh n\u0103ng n\xe0y. ",Object(x.jsx)("a",{href:"/",children:"Quay tr\u1edf l\u1ea1i"})]})]})})},w=n(14),y=n(32),T=n(547),k=n(505),D=n(542),C=n(545),N=n(97),I=n(282),S=n.n(I),E=n(127),M=(n(334),"M\xf4 t\u1ea3"),_="Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch",A="Lo\u1ea1i c\xf4ng vi\u1ec7c",F="T\xean c\xf4ng vi\u1ec7c",L="\u0110\u1ed9 \u01b0u ti\xean",P="\u0110\u1ecba \u0111i\u1ec3m",R="Nh\u1eafc nh\u1edf",q="Li\xean quan \u0111\u1ebfn",B="\u0110\xednh k\xe8m",H="Th\u1eddi gian ho\xe0n t\u1ea5t",V="Tr\u1ea1ng th\xe1i",z="C\u1ea3 ng\xe0y",K="T\u1ea1o c\xf4ng vi\u1ec7c",U="-- T\u1ea5t c\u1ea3 lo\u1ea1i c\xf4ng vi\u1ec7c --",W="dd/MM/yyyy",G="HH:mm",J="DD/MM/yyyy",Y="Kh\xf4ng nh\u1eadp th\u1eddi gian trong qu\xe1 kh\u1ee9.",X="Trung b\xecnh",Z="Th\u1ea5p",Q="Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 n\xe0o",$="",ee=[{icon:$,id:1,name:"Kh\xf4ng nh\u1eafc nh\u1edf"},{icon:$,id:2,name:"V\xe0o gi\u1edd \u0111\u1ebfn h\u1ea1n"},{icon:$,id:3,name:"Tr\u01b0\u1edbc 10 ph\xfat"},{icon:$,id:4,name:"Tr\u01b0\u1edbc 30 ph\xfat"},{icon:$,id:5,name:"Tr\u01b0\u1edbc 1 gi\u1edd"},{icon:$,id:6,name:"Tr\u01b0\u1edbc 2 gi\u1edd"}],te="".concat("/app/calendar-task/icons","/icon-excel.png"),ne="".concat("/app/calendar-task/icons","/icon-word.png"),ae="".concat("/app/calendar-task/icons","/icon-ppt.png"),ce="".concat("/app/calendar-task/icons","/icon-pdf.svg"),re=("".concat("/app/calendar-task/icons","/icon-done.png"),[".csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel",".docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template",".doc","application/msword",".ppt",".pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint",".jpg",".png",".pdf"]),oe=["word","docx"],ie=["excel","xlsx","xls","csv"],se=["ppt","pptx"],le=["jpg","png","jpeg"],ue=["pdf"],de=[].concat(oe,ie,se,ue),me={type:{name:"type",label:A,rule:{required:!0},value:null},name:{name:"name",label:F,rule:{required:!0},value:null},assignedTo:{name:"assignedTo",label:_,rule:{required:!0},value:null},priority:{name:"priority",label:L,rule:{required:!0},value:null},description:{name:"description",label:M,rule:{required:!0},value:null},relatedTo:{name:"relatedTo",label:q,rule:{required:!0},value:null},completionTimeDate:{name:"completionTimeDate",label:H,rule:{required:!0},value:null},completionTimeFrom:{name:"completionTimeFrom",label:H,rule:{required:!0},value:null},completionTimeTo:{name:"completionTimeTo",label:H,rule:{required:!0},value:null}},je="200",be="TODO_TASK_COMPLETED",pe="TODO_TASK_CANCELED";!function(e){e.TAG="Tag",e.TEXT="Text"}(r||(r={})),function(e){e[e.INCOMPLETE=1]="INCOMPLETE",e[e.COMPLETED=2]="COMPLETED",e[e.CANCELED=3]="CANCELED"}(o||(o={}));var fe=["vi","en"],ve=(null===(a=window)||void 0===a?void 0:a.CALENDAR_TASK_BASE_API)||"https://microapi2.propzy.vn/calendar-task",he=(null===(c=window)||void 0===c?void 0:c.BASE_BACKOFFICE_API)||"https://microapi2.propzy.vn/backoffice",Oe=n(128),xe=n.n(Oe),ge="02c2057ad9872ae252cae49f230932964b3d4729d620077de43162c6f40532ed",we=window.window;ge=we.currentUser.token;var ye=function(){var e=Object(m.a)(d.a.mark((function e(t,n,a,c,r){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe()({url:a,baseURL:"".concat(n,"?access_token=").concat(ge),method:t,headers:{"Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(c),cancelToken:r});case 3:if(401!==(o=e.sent).status){e.next=6;break}return e.abrupt("return",o);case 6:return e.abrupt("return",o.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),Te=function(){var e=Object(m.a)(d.a.mark((function e(t,n,a,c,r,o){var i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(ge)},s=JSON.stringify(c),o&&(s=c,i=Object(w.a)(Object(w.a)({},i),{},{"Content-Type":"multipart/form-data"})),e.prev=3,e.next=6,xe()({url:a,baseURL:n,method:t,headers:i,data:s,cancelToken:r});case 6:if(401!==(l=e.sent).status){e.next=9;break}return e.abrupt("return",l);case 9:return e.abrupt("return",l.data);case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}(),ke=function(e){var t=e.cancelToken,n=e.embbedHeader,a=e.endpoint,c=e.payload,r=e.url;return n?Te("GET",r,a,c,t):ye("GET",r,a,c,t)},De=function(e){var t=e.cancelToken,n=e.embbedHeader,a=e.endpoint,c=e.isUpload,r=e.payload,o=e.url;return n?Te("POST",o,a,r,t,c):ye("POST",o,a,r,t)},Ce=function(e){return De({embbedHeader:!0,url:"".concat(ve,"task"),payload:e})},Ne=function(e){return function(e){var t=e.cancelToken,n=e.embbedHeader,a=e.endpoint,c=e.payload,r=e.url;return n?Te("PUT",r,a,c,t):ye("PUT",r,a,c,t)}({embbedHeader:!0,url:"".concat(ve,"task"),payload:e})},Ie=function(e){return ke({url:"".concat(ve,"task/").concat(e),embbedHeader:!0})},Se=function(e){return De({embbedHeader:!0,url:"".concat(ve,"task/complete"),payload:e})},Ee=function(e){return De({embbedHeader:!0,url:"".concat(ve,"task/cancel"),payload:e})},Me=function(e){return ke({url:"".concat(he,"get-comment-category-config/").concat(e),embbedHeader:!0})},_e=function(e){return ke({url:"".concat(he,"get-comment-suggestions/").concat(e),embbedHeader:!0})},Ae=function(e){return De({embbedHeader:!0,url:"".concat(ve,"task/list"),payload:e})},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return De({embbedHeader:!0,url:"".concat(ve,"task/agenda/").concat(t,"/").concat(n),payload:e})},Le=function(e){return ke({embbedHeader:!0,url:"".concat(ve,"task/checkPermission/").concat(e)})},Pe=function(e){var t=e.status,n=e.id,a=Object(i.useContext)(O).setLoading,c=Object(i.useState)([]),r=Object(j.a)(c,2),s=r[0],l=r[1],u=Object(i.useState)(!1),b=Object(j.a)(u,2),p=b[0],f=b[1],v=Object(i.useState)(0),h=Object(j.a)(v,2),g=h[0],w=h[1],y=Object(i.useState)([]),T=Object(j.a)(y,2),k=T[0],I=T[1],M=Object(i.useState)(""),_=Object(j.a)(M,2),A=_[0],F=_[1],L=Object(i.useState)(""),P=Object(j.a)(L,2),R=P[0],q=P[1];Object(i.useEffect)((function(){t===o.COMPLETED&&(q("primary"),F("Ho\xe0n t\u1ea5t c\xf4ng vi\u1ec7c")),t===o.CANCELED&&(F("C\xf4ng vi\u1ec7c \u0111\xe3 h\u1ee7y"),q("secondary"))}),[t]),Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,c=n,ke({url:"".concat(he,"get-comment-category/").concat(c),embbedHeader:!0});case 3:t=e.sent,a(!1),t.code===je&&t.data&&l(t.data);case 6:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var B,H=function(e){var t=JSON.parse(e);return Array.isArray(t)&&t.length>0?Object(x.jsx)(D.a,{className:"image-list",cols:12,children:t.map((function(e,n){return Object(x.jsx)(C.a,{onClick:function(){var e,a;e=n,a=t.map((function(e){return e.link})),w(e),f(!0),I(a)},"aria-hidden":"true",children:Object(x.jsx)("img",{src:e.link,alt:""},e.link)},e.link)}))}):Object(x.jsx)(x.Fragment,{})};return Object(x.jsxs)("div",{children:[(B=s,B.length>0&&Object(x.jsx)("div",{className:"mt-40 comment-data-container status-".concat(t),children:Object(x.jsxs)("div",{className:"comment-category-content",children:[Object(x.jsx)(S.a,{className:"icon ".concat(R)}),Object(x.jsxs)("div",{className:"comment-items",children:[Object(x.jsx)(N.a,{className:"title ".concat(R),component:"div",children:A}),B.map((function(e){return Object(x.jsxs)("div",{className:"comment-item",children:[Object(x.jsx)("div",{className:"files-container",children:H(e.photo)}),Object(x.jsxs)(N.a,{className:"comment-note",component:"div",children:[Object(x.jsx)(N.a,{className:"comment-note-label",component:"div",children:e.categoryItemName}),Object(x.jsx)(N.a,{className:"comment-note-value",component:"div",children:(t=e.items,t.map((function(e){return e.comment})).join(", "))})]})]},"comment-item-".concat(e.id));var t}))]})]})})),p&&Object(x.jsx)(E.default,{mainSrc:k[g],nextSrc:k[(g+1)%k.length],prevSrc:k[(g+k.length-1)%k.length],onCloseRequest:function(){return f(!1)},onMovePrevRequest:function(){return w((g+k.length-1)%k.length)},onMoveNextRequest:function(){return w((g+1)%k.length)}})]})},Re=(n(356),function(e){var t=e.className,n=e.label,a=e.value,c=e.variant;return Object(x.jsxs)(N.a,{className:"style-label-container ".concat(t),component:"div",children:[n&&Object(x.jsx)(N.a,{className:"style-label",variant:c,children:n}),Object(x.jsx)(N.a,{className:"style-value",component:"div",variant:c,children:a})]})}),qe=function(e){var t=e.className,n=e.title,a=e.variant;return Object(x.jsx)(N.a,{component:"div",className:"title ".concat(t),variant:a,children:n})},Be=function(){return ke({url:"".concat(ve,"task/getTaskTypeList"),embbedHeader:!0})},He=function(){return ke({url:"".concat(ve,"task/getUserList"),embbedHeader:!0,payload:null})},Ve=function(){return ke({url:"".concat(ve,"task/getTaskPriorityList"),embbedHeader:!0})},ze=function(e){return ke({url:"".concat(ve,"task/getRelatedTypeList/").concat(e),embbedHeader:!0})},Ke=function(e,t){var n="getListingRelatedList";return e&&(n="getDealRelatedList"),De({url:"".concat(ve,"task/").concat(n),embbedHeader:!0,payload:t})},Ue=function(){return ke({url:"".concat(ve,"task/getTaskStatusList"),embbedHeader:!0})},We=function(e,t){var n="getListingRelatedList";return e&&(n="getDealRelatedList"),ke({url:"".concat(ve,"task/").concat(n,"/").concat(t),embbedHeader:!0})},Ge=function(e){return De({url:"".concat(ve,"task/getTeamList"),embbedHeader:!0,payload:{zoneIds:e}})},Je=function(e){return De({url:"".concat(ve,"task/getUserListFiltered"),embbedHeader:!0,payload:e})},Ye=n(568),Xe=n(546),Ze=n(284),Qe=n.n(Ze),$e=n(285),et=n.n($e),tt=n(56),nt=n(11),at=n.n(nt),ct=n(46),rt=(n(357),n(358),function(e){var t,n=e.className,a=e.component,c=e.filename,r=e.mimetype,o=e.src;switch(r.toLowerCase()){case"ppt":t="".concat("/app/calendar-task/icons","/icon-ppt.png");break;case"excel":t="".concat("/app/calendar-task/icons","/icon-excel.png");break;case"word":t="".concat("/app/calendar-task/icons","/icon-word.png");break;case"pdf":t="".concat("/app/calendar-task/icons","/icon-pdf.svg");break;default:t=o}return Object(x.jsx)(N.a,{className:"file-type ".concat(n),component:a,children:Object(x.jsx)("img",{src:t,alt:c})})}),ot=function(e){var t,n=e.className,a=e.name,c=e.type,r=e.url,o=e.size,i=e.onClick,s=function(){return i?i():""};return Object(x.jsx)(N.a,{className:"file-container ".concat(n),component:"div",onClick:function(){return s()},children:(t=r,le.indexOf(c.toLowerCase())>-1?Object(x.jsx)(rt,{component:"div",filename:a,mimetype:c,src:t}):Object(x.jsxs)("a",{href:t,title:"Download",download:!0,children:[Object(x.jsx)(rt,{component:"div",filename:a,mimetype:c,src:t}),Object(x.jsxs)(N.a,{className:"file-info",component:"div",children:[Object(x.jsx)(N.a,{className:"filename",children:a}),Object(x.jsx)(N.a,{className:"filesize",children:o})]})]}))})},it=n(118),st=(n(359),function(e){var t=e.className,n=e.color,a=e.disabled,c=e.label,r=e.startIcon,o=e.variant,i=e.onClick;return Object(x.jsxs)(it.a,{className:"def-btn ".concat(t),color:n,disabled:a,variant:o,onClick:i,children:[r," ",c]})}),lt=(n(360),function(e){var t=e.className,n=e.icon,a=e.label,c=e.variant;return Object(x.jsxs)(N.a,{className:"label-icon-container ".concat(t),component:"div",children:[Object(x.jsx)("img",{alt:a,className:"style-icon",src:n}),Object(x.jsx)(N.a,{className:"style-icon-label",variant:c,children:a})]})}),ut=1e3*at()().startOf("day").unix(),dt=1e3*at()().endOf("day").unix(),mt=1e3*at()().startOf("week").unix(),jt=1e3*at()().endOf("week").unix(),bt=1e3*at()().startOf("month").unix(),pt=1e3*at()().endOf("month").unix(),ft=1e3*at()().unix(),vt=(at()(new Date(2015,3,1)).toDate(),{assignedTo:"",assignorId:void 0,attachedFiles:[],completionAllDay:!1,completionTimeDate:"",completionTimeFrom:"",completionTimeTo:"",createdBy:void 0,description:"",location:"",mode:"list",name:"",priority:2,relatedTo:void 0,relatedType:void 0,reminderTime:3,type:void 0,view:"day"}),ht={assignedTo:void 0,assignorId:void 0,attachedFiles:[],completionAllDay:!1,completionTimeDate:void 0,completionTimeFrom:void 0,completionTimeTo:void 0,createdBy:void 0,description:"",location:"",name:"",priority:void 0,relatedTo:void 0,relatedType:9,reminderTime:void 0,type:void 0,typeName:"",status:1},Ot={day:!0,week:!0,month:!0,agenda:!0},xt={comments:[],createdBy:void 0,dataId:void 0},gt=[{label:"Nh\xf3m theo nh\xe2n vi\xean",value:"assignee"},{label:"Nh\xf3m theo ng\xe0y",value:"date"}],wt={fromDate:ut,groupBy:gt[0].value,mode:"list",toDate:dt,view:"day"},yt=Object(w.a)(Object(w.a)({},wt),{},{assignedToIds:[],departmentIds:[],location:"",name:"",priority:void 0,status:[],teamIds:[],types:[],zoneIds:[]}),Tt={image:[],mFile:[]},kt=function(e,t){return 1e3*at()(e).startOf(t).unix()},Dt=function(e,t){return 1e3*at()(e).endOf(t).unix()},Ct=function(e){var t=e.date,n=e.mode,a=e.prevView,c=e.view,r=e.fromDate,o=e.toDate;switch(c){case"day":r=ut,o=dt,t&&(r=kt(t,"day"),o=Dt(t,"day"));break;case"week":r=mt,o=jt,t&&(r=kt(t,"week"),o=Dt(t,"week"));break;case"month":r=bt,o=pt,t&&(r=kt(t,"month"),o=Dt(t,"month"));break;default:switch(a){case"week":r=mt,o=jt;break;case"month":r=bt,o=pt;break;default:r=ut,o=dt}}if(n)switch(a){case"week":r=mt,o=jt;break;case"month":r=bt,o=pt;break;default:r=ut,o=dt}return{fromDate:r,prevView:a,toDate:o,view:c}},Nt=function(e,t,n,a){if(n)return a?z:"";var c="",r=at()(e).format(G);if(t){var o=at()(t).format(G);c="".concat(r," - ").concat(o)}return c};var It=function(){var e=window.window;return{userSessionId:e.currentUser.userId,token:e.currentUser.token}},St=function(e){return e&&"object"===typeof e?!!Object.keys(e).length:0===e||!!e},Et=function(e){return[{"th\u1ee9":"Th\u1ee9"},{"th\xe1ng":"Th\xe1ng"}].reduce((function(e,t){return"".concat(e).replace(Object.keys(t)[0],t[Object.keys(t)[0]])}),e)},Mt=(n(233),function(e,t){var n="",a=t;switch(e){case 2:n="completed",t||(a="Ho\xe0n t\u1ea5t");break;case 1:n="in-completed",t||(a="Ch\u01b0a h\xf2an t\u1ea5t");break;case 3:n="cancelled",t||(a="\u0110\xe3 h\u1ee7y")}return Object(x.jsx)(Ye.a,{className:"status-highlight ".concat(n),label:a})}),_t=function(e,t){var n="",a=t;switch(e){case 1:default:n="lowest.svg",t||(a=Z);break;case 2:n="medium.svg",t||(a=X);break;case 3:n="highest.svg",t||(a="Cao")}return Object(x.jsx)(lt,{className:"item-value",icon:"".concat("/app/calendar-task/icons","/").concat(n),label:a})},At=function(e){var t=e.name,n=e.id,a=e.label,c="";return"Deal"===a&&(c="/deal/detail/".concat(n)),"Listing"===a&&(c="/pos/sa/detail/".concat(n)),Object(x.jsxs)(N.a,{className:"deal",component:"div",children:[a," ",Object(x.jsx)("a",{className:"highlight-id",href:c,rel:"noreferrer",target:"_blank",children:n})," ","- ",Object(x.jsx)(N.a,{component:"span",children:t})]})},Ft=function(e,t,n){var a;return e.map((function(e,c){return n&&(a=function(){return n(c)}),Object(x.jsx)(ot,{className:t,name:e.name,size:e.size,type:e.type,url:e.url,onClick:a},"".concat(e.url))}))},Lt=function(e,t){var n=[];return e.mFile.length>0&&n.push(function(e){return Object(x.jsx)(Re,{className:"mt-20",label:"Files (".concat(e.length,")"),value:Ft(e,"two-cols")},"file")}(e.mFile)),e.image.length>0&&n.push(function(e,t){return Object(x.jsx)(Re,{className:"mt-20",label:"H\xecnh \u1ea3nh (".concat(e.length,")"),value:Ft(e,"two-cols hide-info mt-10",t)},"image")}(e.image,t)),n.map((function(e){return e}))},Pt=function(e){var t="item-value error";return e&&(t="item-value"),Object(x.jsx)(qe,{className:t,title:e})},Rt=function(e,t,n,a,c){return e?Object(x.jsx)(E.default,{mainSrc:t[n].url,nextSrc:t[(n+1)%t.length].url,prevSrc:t[(n+t.length-1)%t.length].url,onCloseRequest:function(){return a(!e)},onMovePrevRequest:function(){return c((n+t.length-1)%t.length)},onMoveNextRequest:function(){return c((n+1)%t.length)}}):Object(x.jsx)("p",{})},qt=[Object(x.jsx)("img",{src:"".concat("/app/calendar-task/icons","/lowest.svg"),alt:Z,width:15}),Object(x.jsx)("img",{src:"".concat("/app/calendar-task/icons","/medium.svg"),alt:X,width:15}),Object(x.jsx)("img",{src:"".concat("/app/calendar-task/icons","/highest.svg"),alt:"Cao",width:15})],Bt=function(e,t,n){var a,c=[];return t.map((function(t,r){return a=Object(x.jsx)(x.Fragment,{}),n&&n[r]&&(a=n[r]),c=[].concat(Object(y.a)(c),[{icon:a,key:"".concat(e,"-").concat(t.id),label:t.name,value:t.id}])})),c},Ht=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.userId),label:t.name,value:t.userId}])})),n},Vt=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.tcId),label:t.name,value:t.tcId}])})),n},zt=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.id),label:"".concat(t.id," ").concat(t.name," ").concat(t.phone," ").concat(t.address),value:t.id}])})),n},Kt=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.id),label:"".concat(t.id," ").concat(t.name," - ").concat(t.phone," - ").concat(t.listingType," - ").concat(t.propertyType," - ").concat(t.price," "),value:t.id}])})),n},Ut=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.departmentId),label:"".concat(t.departmentName),value:t.departmentId}])})),n},Wt=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.departmentId),label:"".concat(t.departmentName),value:t.departmentId}])})),n},Gt=function(e,t){var n=[];return t.map((function(t){return n=[].concat(Object(y.a)(n),[{icon:"",key:"".concat(e,"-").concat(t.departmentId),label:"".concat(t.departmentName),value:t.departmentId}])})),n},Jt=function(e,t,n,a){var c=[];return e.map((function(e){var r=at()(e.completionTimeTo).toDate(),o=at()(e.completionTimeFrom).toDate();return e.completionAllDay&&(r=at()(Dt(at()(e.completionTimeDate).toDate(),"day")).toDate(),o=at()(kt(at()(e.completionTimeDate).toDate(),"day")).toDate()),c=[].concat(Object(y.a)(c),[{allDay:e.completionAllDay,end:r,resource:Object(w.a)(Object(w.a)({},e),{},{groupBy:t,fromDate:n,toDate:a}),start:o,title:e.name}]),e})),c},Yt=function(e){var t=[];return e.map((function(e){return t=[].concat(Object(y.a)(t),[{key:"group-by-".concat(e.value),label:e.label,value:e.value}])})),t},Xt=function(e){var t="";return e===o.COMPLETED&&(t="completed"),e===o.INCOMPLETE&&(t="in-completed"),e===o.CANCELED&&(t="cancel"),t},Zt=function(e){var t=e.date,n=Object(ct.upperFirst)(at()(t).format("dddd"));return Object(x.jsx)(N.a,{className:"custom-header",component:"div",children:n})},Qt=function(e){var t=e.event.resource,n="".concat(Nt(t.completionTimeFrom,t.completionTimeTo,t.completionAllDay)," ").concat(t.name);return Object(x.jsx)(Xe.a,{title:n,"aria-label":n,children:Object(x.jsxs)(N.a,{className:"event-item",component:"div",children:[Object(x.jsx)(N.a,{className:"status-highlight ".concat(Xt(t.status)),component:"span",children:"\xa0"}),Object(x.jsx)(N.a,{className:"priority",component:"div",children:_t(t.priority)}),Object(x.jsx)(N.a,{className:"time",component:"span",children:Nt(t.completionTimeFrom,t.completionTimeTo,t.completionAllDay)}),Object(x.jsx)(N.a,{className:"title",component:"span",children:t.name})]})})},$t=function(e){var t=e.events,n=e.currentMode,a=Object(tt.a)((function(){return{taskName:{cursor:"pointer",marginRight:"6px"}}}))();return Object(x.jsx)(N.a,{className:"event-item-list",component:"div",children:t.map((function(e){var t=e.resource;return Object(x.jsxs)(N.a,{className:"event-item",component:"div",children:[Object(x.jsx)(N.a,{className:"priority",component:"div",children:_t(t.priority)}),Object(x.jsx)(N.a,{className:"time",component:"div",children:Nt(t.completionTimeFrom,t.completionTimeTo,t.completionAllDay,!0)}),Object(x.jsx)(N.a,{onClick:function(){return function(e){var t=e.id;localStorage.setItem("view_detail_task_tracking",JSON.stringify({source:"calendar-view-more",mode:n||""})),window.open("/calendar-task/detail/".concat(t),"_blank")}({id:t.id})},className:a.taskName,component:"a",children:t.name}),Object(x.jsx)(N.a,{className:"status-highlight-container",component:"div",children:Mt(t.status)})]},"event-item-".concat(t.id))}))})},en={icon:"",name:"-- Ch\u1ecdn --",id:""},tn=[Object(w.a)(Object(w.a)({},en),{},{name:U})],nn=[{name:"Ch\u1ecdn nh\xe2n vi\xean",userId:"",userName:""}],an=("".concat("/app/calendar-task/images","/image-property-1.jpeg"),"".concat("/app/calendar-task/images","/image-property-2.jpeg"),new Date),cn=(new Date(2021,3,0),new Date(2021,3,1),new Date(2021,3,7),new Date(2021,3,10),new Date(2022,2,13,5,0,0),new Date(2022,2,20,10,10,0),new Date(2022,10,6,0,0,0),new Date(2022,10,13,0,0,0),new Date(2021,3,9,0,0,0),new Date(2021,3,10,0,0,0),new Date(2021,3,11),new Date(2021,3,13),new Date(2021,3,12,10,30,0,0),new Date(2021,3,12,12,30,0,0),new Date(2021,3,12,12,0,0,0),new Date(2021,3,12,13,0,0,0),new Date(2021,3,12,14,0,0,0),new Date(2021,3,12,15,0,0,0),new Date(2021,3,12,17,0,0,0),new Date(2021,3,12,17,30,0,0),new Date(2021,3,12,20,0,0,0),new Date(2021,3,12,21,0,0,0),new Date(2021,9,13,8,0,0),new Date(2021,9,13,10,30,0),new Date(2021,9,13,9,30,0),new Date(2021,9,13,12,0,0),new Date(2021,9,13,11,30,0),new Date(2021,9,13,14,0,0),new Date(2021,9,13,15,30,0),new Date(2021,9,13,16,0,0),new Date(2021,9,17,19,30,0),new Date(2021,9,18,2,0,0),new Date(2021,3,17,19,30,0),new Date(2021,3,17,23,30,0),new Date(2021,3,20,19,30,0),new Date(2021,3,22,2,0,0),new Date((new Date).setHours((new Date).getHours()-3)),new Date((new Date).setHours((new Date).getHours()+3)),new Date(2021,3,14,15,30,0),new Date(2021,3,14,19,0,0),new Date(2021,3,14,16,30,0),new Date(2021,3,14,20,0,0),new Date(2021,3,14,16,30,0),new Date(2021,3,14,17,30,0),new Date(2021,3,14,17,30,0),new Date(2021,3,14,20,30,0),new Date(2021,3,14,17,0,0),new Date(2021,3,14,18,30,0),new Date(2021,3,14,17,0,0),new Date(2021,3,14,18,30,0),new Date(2021,3,14,17,30,0),new Date(2021,3,14,19,0,0),new Date(2021,1,14,18,30,0),new Date(2021,3,14,20,0,0),new Date(2015,3,0),new Date(2015,3,1),new Date(2015,3,7),new Date(2015,3,10),new Date(2016,2,13,0,0,0),new Date(2016,2,20,0,0,0),new Date(2016,10,6,0,0,0),new Date(2016,10,13,0,0,0),new Date(2015,3,9,0,0,0),new Date(2015,3,9,0,0,0),new Date(2015,3,11),new Date(2015,3,13),new Date(2015,3,12,10,30,0,0),new Date(2015,3,12,12,30,0,0),new Date(2015,3,12,12,0,0,0),new Date(2015,3,12,13,0,0,0),new Date(2015,3,12,14,0,0,0),new Date(2015,3,12,15,0,0,0),new Date(2015,3,12,17,0,0,0),new Date(2015,3,12,17,30,0,0),new Date(2015,3,12,20,0,0,0),new Date(2015,3,12,21,0,0,0),new Date(2015,3,13,7,0,0),new Date(2015,3,13,10,30,0),new Date(2015,3,13,7,0,0),new Date(2015,3,13,10,30,0),new Date(2015,3,13,7,0,0),new Date(2015,3,13,10,30,0),new Date(2015,3,17,19,30,0),new Date(2015,3,18,2,0,0),new Date(2015,3,20,19,30,0),new Date(2015,3,22,2,0,0),function(e){var t=e.value,n="type",a=Bt(n,tn),c=Object(i.useState)(a),r=Object(j.a)(c,2),o=r[0],s=r[1],l=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:(t=e.sent).code===je&&(t.data||t.data&&t.data.length>0)&&(a=Bt(n,t.data),a=o.concat(a),s(a));case 4:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)((function(){l()}),[]),Object(x.jsx)(Re,{className:"no-padding",label:A,value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:t})})})}),rn=function(e){var t=e.value,n=Object(i.useState)(""),a=Object(j.a)(n,2),c=a[0],r=a[1],o="status",s=Bt(o,tn),l=Object(i.useState)(s),u=Object(j.a)(l,2),b=u[0],p=u[1],f=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:(t=e.sent).code===je&&(t.data||t.data&&t.data.length>0)&&(n=Bt(o,t.data),n=b.concat(n),p(n));case 4:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)((function(){f()}),[]),Object(i.useEffect)((function(){var e=b.filter((function(e){return e.value===t}));e.length>0&&r(e[0].label)}),[b]),Object(x.jsx)(Re,{className:"no-padding",label:V,value:Mt(t,c)})},on=function(e){var t=e.value,n=Object(i.useState)(""),a=Object(j.a)(n,2),c=a[0],r=a[1],o="priority",s=Bt(o,tn),l=Object(i.useState)(s),u=Object(j.a)(l,2),b=u[0],p=u[1],f=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve();case 2:(t=e.sent).code===je&&(t.data||t.data&&t.data.length>0)&&(n=Bt(o,t.data),n=b.concat(n),p(n));case 4:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)((function(){f()}),[]),Object(i.useEffect)((function(){var e=b.filter((function(e){return e.value===t}));e.length>0&&r(e[0].label)}),[b]),Object(x.jsx)(Re,{className:"no-padding",label:L,value:_t(t,c)})},sn=function(e){var t=e.isAllDay,n=e.timeDate,a=e.timeFrom,c=e.timeTo,r="";a&&a<ft&&(r="is-the-past");var o=at()(n).format(J),i=null,s=null,l=o;return t||(a&&a<ft&&(r="is-the-past"),i=at()(a).format(G),s=at()(c).format(G),l="".concat(o," ").concat(i," - ").concat(s)),Object(x.jsx)(Re,{className:"no-padding ".concat(r),label:H,value:Pt(l)})},ln=function(e){var t=e.value,n=Object(i.useState)(""),a=Object(j.a)(n,2),c=a[0],r=a[1],o="reminderTime",s=Bt(o,tn),l=Object(i.useState)(s),u=Object(j.a)(l,2),b=u[0],p=u[1],f=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({url:"".concat(ve,"task/getTaskReminderList"),embbedHeader:!0});case 2:(t=e.sent).code===je&&(t.data||t.data&&t.data.length>0)&&(n=Bt(o,t.data),n=b.concat(n),p(n));case 4:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)((function(){f()}),[]),Object(i.useEffect)((function(){var e=b.filter((function(e){return e.value===t}));e.length>0&&r(e[0].label)}),[b]),Object(x.jsx)(Re,{className:"no-padding",label:R,value:Object(x.jsx)(qe,{className:"item-value",title:c})})},un=function(e){var t=e.value;return Object(x.jsx)(Re,{className:"no-padding",label:M,value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("p",{children:t}),variant:"subtitle1"})})},dn=function(e){var t=e.relatedTo,n=e.relatedType,a=Object(i.useState)({id:"",name:"",label:"Listing"}),c=Object(j.a)(a,2),r=c[0],o=c[1],s=!1;13===n&&(s=!0);var l=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(s,t);case 2:(n=e.sent)&&n.code===je&&Object.keys(n.data).length>0&&(a=Object(w.a)(Object(w.a)({},r),{},{id:n.data.id,name:n.data.name}),s&&(a.label="Deal"),o(a));case 4:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)((function(){l()}),[]),Object(x.jsx)(Re,{className:"no-padding",label:q,value:Object(x.jsx)(qe,{className:"item-value",title:At(r)})})},mn=function(e){var t=e.value;return Object(x.jsx)(Re,{className:"no-padding",label:P,value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:t})})})},jn=function(e){var t=e.label,n=e.value;return Object(x.jsx)(Re,{className:"no-padding",label:t,value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:at()(n).format("".concat("DD/MM/yyyy"," ").concat(G))})})})},bn=function(e){var t=e.label,n=e.value,a=e.assignorName,c=Object(i.useState)(a||""),r=Object(j.a)(c,2),o=r[0],s=r[1],l="createdBy",u=Ht(l,nn),b=Object(i.useState)(u.parseItems),p=Object(j.a)(b,2),f=p[0],v=p[1],h=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:(t=e.sent).code===je&&(t.data||t.data&&t.data.length>0)&&(n=Ht(l,t.data),v(n));case 4:case"end":return e.stop()}}),e)}))),[f]);return Object(i.useEffect)((function(){h()}),[]),Object(i.useEffect)((function(){if(null===f||void 0===f?void 0:f.length){var e=f.find((function(e){return e.value===n}));s((null===e||void 0===e?void 0:e.label)||a||"")}}),[f]),Object(x.jsx)(Re,{className:"no-padding",label:t,value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:o})})})},pn=function(e){var t=e.label,n=e.value,a=e.assignedToName,c=Object(i.useState)(a||""),r=Object(j.a)(c,2),o=r[0],s=r[1],l="assignedTo",u=Ht(l,nn),b=Object(i.useState)(u),p=Object(j.a)(b,2),f=p[0],v=p[1],h=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:(t=e.sent).code===je&&(t.data||t.data&&t.data.length>0)&&(n=Ht(l,t.data),v(n));case 4:case"end":return e.stop()}}),e)}))),[f]);return Object(i.useEffect)((function(){h()}),[]),Object(i.useEffect)((function(){if(null===f||void 0===f?void 0:f.length){var e=f.find((function(e){return e.value===n}));s((null===e||void 0===e?void 0:e.label)||a||"")}}),[f]),Object(x.jsx)(Re,{className:"no-padding",label:t,value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:o})})})},fn=(n(361),n(513)),vn=n(506),hn=n(302),On=n(507),xn=n(508),gn=n(286),wn=(n(372),function(e){var t=e.displayModal,n=e.id,a=e.title,c=e.handleSubmitForm,r=e.handleCloseModal,o=e.createdBy,s=e.categoryConfig,l=e.listCommentSuggestion,u=Object(i.useState)([]),d=Object(j.a)(u,2),m=d[0],b=d[1],p=Object(i.useState)({dataId:n,comments:[],createdBy:o}),f=Object(j.a)(p,2),v=f[0],h=f[1];Object(i.useEffect)((function(){var e=s.map((function(e){return{requiredInput:!!e.showTextInput&&!!e.requiredTextInput,errorInput:!1,requiredImage:!!e.showPhoto&&!!e.requiredPhoto,errorImage:!1}}));b(e)}),[s]);return Object(x.jsxs)(fn.a,{className:"comment-input-container",fullWidth:!0,maxWidth:"md",open:t,scroll:"body",onClose:function(){},children:[Object(x.jsxs)(vn.a,{className:"comment-input-toolbar",children:[Object(x.jsx)(N.a,{className:"title",variant:"h6",children:a}),Object(x.jsx)(hn.a,{className:"icon-close",onClick:function(){return r(t)},children:"\xd7"})]}),Object(x.jsx)(On.a,{className:"comment-input-content",dividers:!0,children:Object(x.jsx)(gn.CommentView,{onDataChange:function(e){if(e&&e.length){var t=m.map((function(t,n){return Object(w.a)(Object(w.a)({},t),{},{errorInput:!(e[n].comments.length>0)&&t.errorInput,errorImage:!(e[n].photos.length>0)&&t.errorImage})}));b(t),h(Object(w.a)(Object(w.a)({},v),{},{comments:e}))}},categoryConfigData:s,commentSuggestionResponse:l,errorsConfig:m,onCommentPriceTagChange:function(){}})}),Object(x.jsxs)(xn.a,{className:"comment-input-actions",children:[Object(x.jsx)(it.a,{autoFocus:!0,variant:"outlined",onClick:function(){return r(t)},children:"B\u1ecf qua"}),Object(x.jsx)(it.a,{autoFocus:!0,color:"primary",variant:"contained",onClick:function(){var e={config:!1},t=m.map((function(e,t){return Object(w.a)(Object(w.a)({},e),{},{errorInput:!!e.requiredInput&&0===v.comments[t].comments.length,errorImage:!!e.requiredImage&&0===v.comments[t].photos.length})}));b(t),e.config=!!t.find((function(e){return e.errorInput||e.errorImage})),e.config||c(v)},children:"L\u01b0u"})]})]})}),yn=n(287),Tn=n(288),kn=n.n(Tn),Dn=(n(373),Object(tt.a)((function(e){return{confettiTitle:{fontWeight:400,marginBottom:e.spacing(1)}}}))),Cn=function(e){var t=e.show,n=e.handleClose,a=Object(i.useRef)(null),c=Object(i.useRef)(),r=Object(i.useRef)(),o=function(){var e=yn.a.create(a.current,{resize:!0}),t=[135,90,45],n=[1,.5,0],c=function(e){return{particleCount:500,angle:t[e],spread:90,startVelocity:45,decay:.9,ticks:60,origin:{y:1.2,x:n[e]}}};e(c(1)),r.current=setInterval((function(){if("visible"===document.visibilityState){var t=(n=0,a=2,Math.floor(Math.random()*(a-n+1))+n);e(c(t))}var n,a}),1500)},s=function e(){c.current=setTimeout((function(){a.current?o():e()}),500)};Object(i.useEffect)((function(){return t&&s(),function(){r.current&&clearInterval(r.current),c.current&&clearInterval(c.current)}}),[t]);var l=Dn();return Object(x.jsx)(fn.a,{fullWidth:!0,maxWidth:"xs",open:t,onClose:function(){return n()},children:Object(x.jsxs)("div",{className:"complete-task-confetti",children:[Object(x.jsx)(hn.a,{className:"complete-task-confetti__close",onClick:function(){return n()},children:Object(x.jsx)(kn.a,{fontSize:"large"})}),Object(x.jsx)(N.a,{className:l.confettiTitle,variant:"h2",color:"primary",children:"Ch\xfac m\u1eebng!"}),Object(x.jsx)(N.a,{variant:"h4",children:"B\u1ea1n v\u1eeba ho\xe0n t\u1ea5t c\xf4ng vi\u1ec7c"}),Object(x.jsx)("canvas",{className:"confetti",ref:a})]})})},Nn=function(e){var t=Object(i.useContext)(O).setLoading,n=e.displayModal,a=e.createdBy,c=e.id,r=e.setDisplayModal,o=e.featureCode,s=e.title,l=Object(i.useState)(xt),u=Object(j.a)(l,2),b=u[0],p=u[1],f=Object(i.useState)([]),v=Object(j.a)(f,2),h=v[0],g=v[1],w=Object(i.useState)([]),y=Object(j.a)(w,2),T=y[0],k=y[1],D=Object(i.useState)(!1),C=Object(j.a)(D,2),N=C[0],I=C[1],S=Object(i.useCallback)((function(){p(xt)}),[]);Object(i.useEffect)((function(){return function(){S()}}),[n,S]),Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(o);case 2:(t=e.sent).result&&g(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(o);case 2:(t=e.sent).result&&k(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o&&(e(),t())}),[o]);var E=function(e){r(e)},M=function(){var e=Object(m.a)(d.a.mark((function e(a){var r,i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(!0),o!==be){e.next=8;break}return r={completedComment:a,taskId:c},e.next=5,Se(r);case 5:i=e.sent,t(!1),i&&i.code===je&&(E(n),I(!0));case 8:if(o!==pe){e.next=15;break}return s={canceledComment:a,taskId:c},e.next=12,Ee(s);case 12:l=e.sent,t(!1),l&&l.code===je&&(E(n),window.location.reload());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(wn,{displayModal:n,id:c,item:b,createdBy:a,categoryConfig:h,listCommentSuggestion:T,handleCloseModal:E,handleSubmitForm:M,setDisplayModal:r,title:s}),Object(x.jsx)(Cn,{show:N,handleClose:function(){I(!1),window.location.reload()}})]})},In=n(566),Sn=n(289),En=n.n(Sn),Mn=n(304),_n=n(551),An=n(567),Fn=(n(144),n(50)),Ln=n.n(Fn),Pn=function(e){var t,n=e.error,a=e.label,c=e.required,r=e.className,o=e.disabled,i=e.id,s=e.option,l=e.placeholder,u=e.value,d=void 0===u?null:u,m=e.name,b=e.onChange,p=e.multiple,f=d;if(p)Ln()(d)||(f=[]);else if(Ln()(d)){var v=Object(j.a)(d,1);f=v[0]}if(p){var h=f;t=s&&s.length>0&&s.filter((function(e){return h.includes(+e.value)}))||[]}else t=s.find((function(e){return e.value===f}))||null;return Object(x.jsxs)(x.Fragment,{children:[a&&Object(x.jsx)(N.a,{className:"".concat(c?"required":""),component:"p",variant:"subtitle2",children:a}),Object(x.jsx)(An.a,{limitTags:3,size:"small",className:r,multiple:p,id:i,value:t,disabled:o,onChange:function(e,t){var n;n=p?t.map((function(e){return e.value})):(null===t||void 0===t?void 0:t.value)||"",b(m,n)},getOptionLabel:function(e){return e.label||""},renderOption:function(e){return Object(x.jsxs)(x.Fragment,{children:[e.icon&&Object(x.jsx)("span",{style:{marginRight:"8px"},children:e.icon}),Object(x.jsx)("span",{children:e.label})]})},options:s,renderInput:function(e){return Object(x.jsx)(Mn.a,Object(w.a)(Object(w.a)({},e),{},{placeholder:l,variant:"outlined"}))},filterSelectedOptions:!0}),Object(x.jsx)(_n.a,{id:"component-error-text",children:n})]})},Rn=function(e){var t=e.errMsg,n=e.multiple,a=e.name,c=void 0===a?"type":a,r=e.placeholder,o=void 0===r?U:r,s=e.required,l=e.value,u=e.onChange,b=Object(i.useMemo)((function(){return St(l)?"Ch\u1ecdn lo\u1ea1i c\xf4ng vi\u1ec7c":o}),[o,l]),p=Object(i.useState)([]),f=Object(j.a)(p,2),v=f[0],h=f[1],O=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,Be();case 3:n=e.sent,t||n.code!==je||(n.data||n.data&&n.data.length>0)&&(t=!0,a=Bt(c,n.data),a=v.concat(a),h(a));case 5:case"end":return e.stop()}}),e)}))),[v]);Object(i.useEffect)((function(){O()}),[]);return Object(x.jsx)(Pn,{multiple:n,error:t,id:c,label:A,name:c,option:v,placeholder:b,required:s,value:l,onChange:function(e,t){u(e,n?t:t||"")}})},qn=function(e){var t=Object(i.useContext)(O).setLoading,n=e.departmentIds,a=e.errMsg,c=e.multiple,r=e.name,o=e.placeholder,s=void 0===o?"-- T\u1ea5t c\u1ea3 nh\xe2n vi\xean --":o,l=e.required,u=e.teamIds,b=e.value,p=e.zoneIds,f=e.onChange,v=e.setAssignedToIds,h="assignedTo";r&&(h=r);var g=Object(i.useMemo)((function(){return St(b)?"Ch\u1ecdn nh\xe2n vi\xean":s}),[s,b]),w=Object(i.useState)([]),y=Object(j.a)(w,2),T=y[0],k=y[1],D=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var a,c,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t(!0),c={departmentIds:n,teamIds:u,zoneIds:p},e.next=5,Je(c);case 5:r=e.sent,t(!1),r.code===je&&r.data.length>0&&(a=Ht(h,r.data)),v&&(o=[],a.map((function(e){return o=o.concat(Number(e.value))})),v(o)),k(a);case 10:case"end":return e.stop()}}),e)}))),[n,u,p]);Object(i.useEffect)((function(){D()}),[n,u,p]);var C=function(e){var t=T.find((function(t){return t.value===e}));f("assignedToName",t?t.label:"")};Object(i.useEffect)((function(){c||"number"!==typeof b||C(b)}),[T]);return Object(x.jsx)(Pn,{multiple:c,error:a,required:l,label:_,id:h,name:h,option:T,placeholder:g,value:b,onChange:function(e,t){c?f(e,t):(f(e,t||""),C(t))}})},Bn=function(e){var t=Object(i.useContext)(O).setLoading,n=e.errMsg,a=e.multiple,c=e.placeholder,r=void 0===c?"-- T\u1ea5t c\u1ea3 \u0111\u1ed9 \u01b0u ti\xean --":c,o=e.required,s=e.value,l=e.onChange,u="priority",b=Object(i.useMemo)((function(){return St(s)?"Ch\u1ecdn \u0111\u1ed9 \u01b0u ti\xean":r}),[r,s]),p=Object(i.useState)([]),f=Object(j.a)(p,2),v=f[0],h=f[1],g=!1,w=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,Ve();case 3:n=e.sent,t(!1),g||n.code!==je||n.data.length>0&&(g=!0,a=Bt(u,n.data,qt),a=v.concat(a),h(a));case 6:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)((function(){w()}),[]),Object(x.jsx)(Pn,{error:n,id:u,label:L,multiple:a,name:u,option:v,placeholder:b,required:o,value:s,onChange:l})},Hn=n(563),Vn=n(290),zn=n.n(Vn),Kn=(n(444),function(e){var t=Object(i.useContext)(O).setLoading,n=e.fileList,a=e.id,c=e.name,r=e.onSetFile,o=Object(i.useState)(""),s=Object(j.a)(o,2),l=s[0],u=s[1],b="upload-label";10===(null===n||void 0===n?void 0:n.length)&&(b+=" hide");var p=function(){var e=Object(m.a)(d.a.mark((function e(a){var o,i,s,l,m,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!((o=a.target.files)&&o.length>0)){e.next=25;break}if(i=o,n&&n.length>0&&(i=[].concat(Object(y.a)(o),Object(y.a)(n))),!(i.length>10)){e.next=8;break}return u("T\u1ed1i \u0111a 10 file"),e.abrupt("return");case 8:s=0;case 9:if(!(s<o.length)){e.next=16;break}if(!(o[s].size>5242880)){e.next=13;break}return u("K\xedch c\u1ee1 file t\u1ed1i \u0111a l\xe0 5Mb"),e.abrupt("return");case 13:s+=1,e.next=9;break;case 16:for(i=[],u(""),t(!0),l=new FormData,m=0;m<o.length;m+=1)l.append("files",o[m],o[m].name);return e.next=23,d=l,De({embbedHeader:!0,url:"".concat(ve,"file/upload"),payload:d,isUpload:!0});case 23:(j=e.sent).code===je?(t(!1),i=n?n.concat(j.data):i.concat(j.data),r(c,i)):(t(!1),u(j.message));case 25:case"end":return e.stop()}var d}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=function(e){var t=e.type.toLowerCase();if(t){if(oe.includes(t))return ne;if(ie.includes(t))return te;if(se.includes(t))return ae;if(ue.includes(t))return ce}return e.url}(e);return Object(x.jsx)("img",{className:"fileIcon",src:t,alt:t})};return Object(x.jsxs)("div",{className:"attachment-files",children:[Object(x.jsxs)(N.a,{variant:"subtitle2",component:"p",children:["".concat(B," (").concat((null===n||void 0===n?void 0:n.length)||0,")")," "]}),l&&Object(x.jsx)(_n.a,{error:!0,children:l}),Object(x.jsxs)("div",{className:"upload-btn",children:[function(){if(!n||0===n.length)return Object(x.jsx)(x.Fragment,{});var e=function(e){return e?Object.keys(e).map((function(t){return e[+t]})):[]}(n);return Object(x.jsx)(Hn.a,{className:"fileBox",children:Object(x.jsx)(T.a,{container:!0,spacing:2,className:"fileContainer",children:e.map((function(e){return Object(x.jsxs)(T.a,{className:"fileGrid",item:!0,xs:6,container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:4,className:"iconBox",children:f(e)}),Object(x.jsxs)(T.a,{item:!0,xs:8,className:"fileItem",children:[Object(x.jsx)(N.a,{className:"fileName",component:"p",children:e.name}),Object(x.jsx)(N.a,{className:"fileSize",component:"p",children:(t=e.size||0,"".concat((t/1048576).toFixed(2)," MB"))}),Object(x.jsx)(hn.a,{className:"icon-close",onClick:function(){return function(e){if(n&&n.length>0){var t=n.filter((function(t){return t.url!==e}));r(c,t)}}(e.url)},children:Object(x.jsx)(zn.a,{})})]})]},"".concat(e.size,"-").concat(e.url));var t}))})})}(),Object(x.jsx)("input",{accept:re.toString(),id:a,multiple:!0,style:{display:"none"},type:"file",onChange:p}),Object(x.jsx)("label",{className:b,htmlFor:a,children:Object(x.jsx)(it.a,{component:"span",variant:"outlined",color:"primary",children:"T\u1ea3i l\xean"})})]})]})}),Un=n(550),Wn=n(570),Gn=n(564),Jn=function(e){var t=e.className,n=e.disabled,a=e.id,c=e.name,r=e.native,o=e.option,i=e.value,s=e.onChange,l=i;i||(l="");return Object(x.jsx)(Gn.a,{className:"style-select-option ".concat(t),defaultValue:"",displayEmpty:!0,disabled:n,id:a,name:c,margin:"dense",native:r,variant:"outlined",value:l,onChange:function(e){e.target.name&&s(e.target.name,e.target.value)},children:o.map((function(e){return Object(x.jsxs)(Wn.a,{className:"style-menu-item",value:e.value,children:[e.icon,Object(x.jsx)(N.a,{variant:"inherit",component:"span",children:e.label})]},e.key)}))})},Yn=function(e){var t=e.className,n=e.disabled,a=e.id,c=e.label,r=e.name,o=e.option,i=e.placeholder,s=e.required,l=e.value,u=e.onChange,d="";return s&&(d="required"),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N.a,{className:d,component:"p",variant:"subtitle2",children:c}),Object(x.jsx)(Un.a,{fullWidth:!0,children:Object(x.jsx)(Jn,{className:t,disabled:n,id:a,name:r,option:o,placeholder:i,value:l,onChange:u})})]})},Xn=function(e){var t=e.className,n=e.error,a=e.disabled,c=e.id,r=e.label,o=e.name,i=e.options,s=e.placeholder,l=e.required,u=e.value,d=e.onChange,m=s;return s||(m=i[0].label),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Yn,{autoWidth:!1,className:t,disabled:a,id:c,label:r,name:o,option:i,placeholder:m,required:l,value:u,onChange:d}),Object(x.jsx)(_n.a,{id:"component-error-text",children:n})]})},Zn=n(510),Qn=n(291),$n=n.n(Qn),ea=function(e){var t=e.id,n=e.name,a=e.value,c=e.options,r=e.onChange,o=e.onInputChange,s=Object(i.useState)(),l=Object(j.a)(s,2),u=l[0],d=l[1];Object(i.useEffect)((function(){var e;a&&c.map((function(t){return Number(t.value)===a&&(e=t),t})),d(e)}),[a,c]);return Object(x.jsx)(An.a,{className:"autocomplete-container",fullWidth:!0,getOptionLabel:function(e){return"object"===typeof e?e.label:""},id:t,getOptionSelected:function(e){return Number(e.value)===a},noOptionsText:Q,options:c,value:u||null,onChange:function(e,t){return r(n,Number(null===t||void 0===t?void 0:t.value))},renderInput:function(e){return Object(x.jsx)(Mn.a,Object(w.a)(Object(w.a)({},e),{},{className:"input-content",margin:"dense",placeholder:"T\xecm theo ID, t\xean kh\xe1ch h\xe0ng, s\u0111t",variant:"outlined",InputProps:Object(w.a)(Object(w.a)({},e.InputProps),{},{startAdornment:Object(x.jsx)(Zn.a,{component:"div",position:"start",children:Object(x.jsx)($n.a,{className:"icon-style"})})}),onChange:function(e){return function(e,t){var a=t;if(e){if("Enter"===e.code){var r=c.filter((function(t){return t.label.indexOf(e.target.value)>-1}));a=r[0]&&r[0].label||a}t||(a=t)}t&&"object"===typeof t&&(a=t.label),o(n,a)}(e,e.currentTarget.value)}}))},renderOption:function(e,t){var n=t.inputValue;if("object"!==typeof e)return e;var a=e.label.split(new RegExp("(".concat(n,")"),"gi"));return Object(x.jsx)(N.a,{component:"div",children:a.map((function(e,t){var a="highlight-".concat(e,"-").concat(t),c=e.toLowerCase()===n.toLowerCase()?"highlight":"";return Object(x.jsx)(N.a,{component:"span",className:c,children:e},a)}))})}})},ta=(n(445),function(e){var t=Object(i.useContext)(O).setLoading,n=e.assignedTo,a=e.errMsg,c=e.relatedTo,r=e.relatedType,o=e.onChangeRelatedTo,s=e.onChangeRelatedType,l="relatedType",u=Bt(l,[en]),b=Object(i.useState)(u),p=Object(j.a)(b,2),f=p[0],v=p[1],h="relatedTo",g=Object(i.useState)([]),w=Object(j.a)(g,2),y=w[0],k=w[1],D=Object(i.useState)(""),C=Object(j.a)(D,2),I=C[0],S=C[1],E=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var a,i,s,l,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&n){e.next=4;break}return k([]),o(h,void 0),e.abrupt("return");case 4:return a=I,c&&(a=c),i=!1,s=zt,13===r&&(i=!0,s=Kt),l={assignedTo:n,page:0,search:a,size:20},t(!0),e.next=13,Ke(i,l);case 13:u=e.sent,t(!1),m=[],u.code===je&&u.data.totalElements>0&&u.data.content.length>0&&(m=s(h,u.data.content)),k(m);case 18:case"end":return e.stop()}}),e)}))),[n,I,r]);Object(i.useEffect)((function(){E()}),[n,I,r]);var M=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return v(f),e.abrupt("return");case 3:return t(!0),e.next=6,ze(n);case 6:a=e.sent,t(!1),c=u,r="",a.code===je&&a.data&&a.data.length>0&&(c=Bt(l,a.data),v(c),r=c[0].value),v(c),s(l,r);case 13:case"end":return e.stop()}}),e)}))),[n]);return Object(i.useEffect)((function(){M()}),[n]),Object(x.jsxs)(N.a,{className:"search-bar",component:"div",children:[Object(x.jsx)(N.a,{className:"required",variant:"subtitle2",component:"p",children:q}),Object(x.jsxs)(T.a,{container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(Xn,{className:"style-background-grey",id:l,name:l,options:f,value:r,onChange:s})}),Object(x.jsxs)(T.a,{item:!0,xs:9,children:[Object(x.jsx)(ea,{id:h,name:h,options:y,value:c,onChange:o,onInputChange:function(e,t){return function(e,t){S(t)}(0,t)}}),Object(x.jsx)(_n.a,{id:"component-error-text",children:a})]})]})]})}),na=n(298),aa=n(204),ca=n.n(aa),ra=n(30),oa=n(553),ia=n(573),sa=n(552),la=n(565),ua=(n(446),Object(i.memo)((function(e){var t=e.error,n=e.id,a=e.name,c=e.completionAllDay,r=e.completionTimeDate,o=e.completionTimeFrom,s=e.completionTimeTo,l=e.onChangeCompletedTimeAllDay,u=e.onChangeCompletedTimeDate,d=e.onChangeCompletedTimeFrom,m=e.onChangeCompletedTimeTo,b=null;r&&(b=r);var p=null;o&&(p=o);var f=null;s&&(f=s);var v=Object(i.useState)(!1),h=Object(j.a)(v,2),O=h[0],g=h[1],w=Object(i.useState)(!1),y=Object(j.a)(w,2),k=y[0],D=y[1],C=!1,I="datepicker dateTime";t&&t.completionTimeDate&&(I+=" error",C=!0);var S="datepicker startTime";t&&t.completionTimeFrom&&(S+=" error",C=!0);var E="datepicker finishTime";t&&t.completionTimeTo&&(E+=" error",C=!0);return Object(x.jsxs)("div",{children:[Object(x.jsx)(N.a,{className:"required",variant:"subtitle2",component:"p",children:H}),Object(x.jsxs)(T.a,{container:!0,spacing:2,alignItems:"center",children:[Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(Un.a,{children:Object(x.jsx)(sa.a,{value:"end",control:Object(x.jsx)(la.a,{checked:c,color:"primary",id:"".concat(n,"-checkbox"),name:"".concat(a,"-checkbox"),onChange:function(e,t){return function(e){l(e)}(t)}}),label:"C\u1ea3 ng\xe0y",labelPlacement:"end"})})}),Object(x.jsxs)(ra.a,{utils:na.a,children:[Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(oa.a,{className:I,disableToolbar:!0,format:W,helperText:"",id:"".concat(n,"-date"),inputVariant:"outlined",margin:"dense",minDate:ft,name:"".concat(a,"-date"),placeholder:W.toLowerCase(),variant:"inline",value:b,onChange:function(e){var t=kt(e,"day");u(t)}})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(ia.a,{ampm:!1,className:S,keyboardIcon:Object(x.jsx)(ca.a,{}),helperText:"",inputVariant:"outlined",id:"".concat(n,"-startTime"),disabled:c,margin:"dense",name:"".concat(a,"-startTime"),placeholder:G.toLowerCase(),value:p,onChange:function(e){return function(e){var t;if(e&&(t=at()(e).format(G),r)){var n=at()(r).format(J);t=1e3*at()("".concat(n," ").concat(t),"".concat(J," ").concat(G)).unix()}var a=!0;ft<t&&(a=!1,s&&s<t&&(a=!0)),g(a),d(t)}(1e3*at()(e).unix())}})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(ia.a,{ampm:!1,className:E,disabled:c,helperText:"",inputVariant:"outlined",id:"".concat(n,"-finishTime"),keyboardIcon:Object(x.jsx)(ca.a,{}),margin:"dense",name:"".concat(a,"-finishTime"),placeholder:G.toLowerCase(),value:f,onChange:function(e){return function(e){var t;if(e&&(t=at()(e).format(G),r)){var n=at()(r).format(J);t=1e3*at()("".concat(n," ").concat(t),"".concat(J," ").concat(G)).unix()}var a=o,c=!0;at()(a).isBefore(t)&&(c=!1),D(c),m(t)}(1e3*at()(e).unix())}})})]}),C&&Object(x.jsxs)(_n.a,{id:"component-error-text",className:"error-full-width",children:["Vui l\xf2ng nh\u1eadp ",H]}),O&&Object(x.jsx)(_n.a,{id:"component-error-text",className:"error-full-width",children:Y}),k&&Object(x.jsx)(_n.a,{id:"component-error-text",className:"error-full-width",children:"Th\u1eddi gian k\u1ebft th\xfac kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n th\u1eddi gian b\u1eaft \u0111\u1ea7u."})]})]})}))),da=function(e){var t=e.errMsg,n=e.disabled,a=e.value,c=e.onChange,r="reminderTime",o=Bt(r,[]),i=Bt(r,ee);return i=o.concat(i),Object(x.jsx)(Pn,{error:t,disabled:n,id:r,label:R,name:r,option:i,value:a,onChange:c,placeholder:"-- Ch\u1ecdn --"})},ma=function(e){var t=e.id,n=e.name,a=e.options,c=e.value,r=e.onInputChange,o=e.renderInput;return Object(x.jsx)(An.a,{className:"autocomplete-container",freeSolo:!0,fullWidth:!0,getOptionLabel:function(e){return"object"===typeof e?e.label:e},id:t,noOptionsText:Q,options:a,value:c||null,onBlur:function(e){return(t=e)?r(n,t.target.value):c;var t},onChange:function(e,t){return function(e,t){var a="";return e?(t&&"object"===typeof t&&(a=t.label),"string"===typeof t&&(a=t),r(n,a)):c}(e,t)},renderInput:o,renderOption:function(e,t){var n=t.inputValue,a=e.label.split(new RegExp("(".concat(n,")"),"gi"));return Object(x.jsx)(N.a,{component:"div",children:a.map((function(e,t){var a="highlight-".concat(e,"-").concat(t),c=e.toLowerCase()===n.toLowerCase()?"highlight":"";return Object(x.jsx)(N.a,{component:"span",className:c,children:e},a)}))})}})},ja=(n(447),function(e){var t=Object(i.useContext)(O).setLoading,n=e.errMsg,a=e.required,c=e.value,r=e.onChange,o=e.onInputChange,s="";a&&(s="required");var l=Object(i.useState)([]),u=Object(j.a)(l,2),b=u[0],p=u[1],f=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,ke({url:"".concat(ve,"task/getTcList/1/").concat(5),embbedHeader:!0});case 3:return n=e.sent,t(!1),n.code===je&&n.data.list.length>0&&(a=Vt("location",n.data.list),p(a)),e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)}))),[b]);return Object(i.useEffect)((function(){f()}),[]),Object(x.jsxs)("div",{className:"select-location",children:[Object(x.jsx)(N.a,{className:s,variant:"subtitle2",component:"p",children:P}),Object(x.jsx)(ma,{id:"location",name:"location",options:b,value:c,onChange:r,onInputChange:o,renderInput:function(e){return Object(x.jsx)(Mn.a,Object(w.a)(Object(w.a)({},e),{},{className:"input-content",name:"location",margin:"dense",variant:"outlined"}))}}),Object(x.jsx)(_n.a,{id:"component-error-text",children:n})]})}),ba=n(10),pa=n(170),fa=n(305),va=Object(ba.a)((function(e){return Object(pa.a)({root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,backgroundColor:e.palette.common.white,border:"1px solid #ced4da",padding:"10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),"&:focus":{}}})}))(fa.a),ha=function(e){var t=e.error,n=e.id,a=e.maxLength,c=e.label,r=e.multiline,o=e.name,i=e.placeholder,s=e.required,l=e.rows,u=e.rowsMax,d=e.value,m=e.onChange,j=d||"";return Object(x.jsxs)("div",{children:[Object(x.jsx)(N.a,{className:"".concat(s?"required":""),variant:"subtitle2",component:"p",children:c}),Object(x.jsxs)(Un.a,{fullWidth:!0,children:[Object(x.jsx)(va,{fullWidth:!0,id:n,inputProps:{maxLength:a},multiline:r,placeholder:i,rows:l,rowsMax:u,name:o,value:j,onChange:function(e){m(e.target.name,e.target.value)}}),Object(x.jsx)(_n.a,{id:"component-error-text",children:t})]})]})},Oa=n(115),xa=function(e,t){var n=Object(i.useState)(e),a=Object(j.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(t),s=Object(j.a)(o,2),l=s[0],u=s[1],b=Object(i.useState)({}),p=Object(j.a)(b,2),f=p[0],v=p[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=Object(w.a)({},f),n=Object.keys(e)[0],a=Object.values(e)[0];l[n]&&(t[n]=null,l[n].rule.required&&(a||(t[n]="Vui l\xf2ng nh\u1eadp ".concat(l[n].label))),v((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(Oa.a)({},n,t[n]))})))},O=function(){r(Object(w.a)(Object(w.a)({},e),{},{formSubmitted:!0,success:!0}))},x=function(){r(Object(w.a)(Object(w.a)({},e),{},{formSubmitted:!0,success:!1}))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=!0,n=Object.keys(e);return n.forEach((function(n){l[n]&&l[n].rule.required&&(e[n]||(t=!1))})),t};function y(){return(y=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.values(f).every((function(e){return""===e}))&&g())){e.next=3;break}return e.abrupt("return",t(c,O,x));case 3:return e.abrupt("return",f);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{errors:f,formIsValid:g,values:c,handleInputValue:function(e,t,n){r((function(n){return Object(w.a)(Object(w.a)({},n),{},Object(Oa.a)({},e,t))})),h(Object(Oa.a)({},e,t)),n&&h(n)},handleFormSubmit:function(e){return y.apply(this,arguments)},handleListValue:function(e){r(Object(w.a)(Object(w.a)({},c),e))},handleReset:function(e){r(e),v({})},handleResetValidationFields:function(e){u(e)},validate:h}},ga=Object(i.memo)((function(e){var t=e.displayModal,n=e.id,a=e.item,c=e.title,r=e.handleCloseModal,o=e.handleSubmitForm,s=xa(a,me),l=s.handleInputValue,u=s.handleReset,j=s.formIsValid,b=s.errors,p=s.values,f=s.validate;Object(i.useEffect)((function(){var e=!0;p.completionAllDay&&(e=!1),me.completionTimeFrom.rule.required=e,me.completionTimeTo.rule.required=e,f(me)}),[p.completionAllDay]),Object(i.useEffect)((function(){u(En()(a))}),[a]);var v=function(e){r(e)},h=function(e,t){l(e,t)},O=function(){var e=Object(m.a)(d.a.mark((function e(){var t,c,r,i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.completionAllDay,c=p.completionTimeDate,r=p.completionTimeFrom,i=p.completionTimeTo,s=p.reminderTime,!t){e.next=8;break}r=null,i=null,s=null,e.next=14;break;case 8:if(!(p.completionTimeFrom<ft)){e.next=11;break}return alert(Y),e.abrupt("return");case 11:"number"!==typeof p.completionTimeDate&&(c=at()(p.completionTimeDate)),"number"!==typeof p.completionTimeFrom&&(r=at()(p.completionTimeFrom,G)),"number"!==typeof p.completionTimeTo&&(i=at()(p.completionTimeTo,G));case 14:l=Object(w.a)(Object(w.a)(Object(w.a)({},a),p),{},{completionTimeDate:c,completionTimeFrom:r,completionTimeTo:i,reminderTime:s,taskId:n}),o(l);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(fn.a,{className:"dialog-container",fullWidth:!0,maxWidth:"md",open:t,scroll:"body",onClose:function(){return v(t)},children:[Object(x.jsxs)(vn.a,{className:"dialog-toolbar",children:[Object(x.jsx)(N.a,{className:"title",variant:"h6",children:c}),Object(x.jsx)(hn.a,{className:"icon-close",onClick:function(){return v(t)},children:"\xd7"})]}),Object(x.jsx)(On.a,{className:"dialog-content",dividers:!0,children:Object(x.jsxs)(T.a,{container:!0,spacing:2,children:[Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(Rn,{placeholder:"-- Ch\u1ecdn lo\u1ea1i c\xf4ng vi\u1ec7c --",errMsg:b.type,required:!0,value:p.type,onChange:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:6}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(ha,{error:b.name,id:"name",label:F,maxLength:100,name:"name",placeholder:"Nh\u1eadp t\xean c\xf4ng vi\u1ec7c",required:!0,type:"text",value:p.name,onChange:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(qn,{errMsg:b.assignedTo,placeholder:"-- Ch\u1ecdn nh\xe2n vi\xean --",required:!0,value:p.assignedTo,onChange:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(Bn,{errMsg:b.priority,placeholder:"-- Ch\u1ecdn \u0111\u1ed9 \u01b0u ti\xean --",required:!0,value:p.priority,onChange:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(ha,{error:b.description,id:"description",label:M,multiline:!0,name:"description",required:!0,rows:4,type:"text",value:p.description,onChange:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(Kn,{fileList:p.attachedFiles,id:"attachment",name:"attachedFiles",onSetFile:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(ta,{assignedTo:p.assignedTo,errMsg:b.relatedTo,id:n,relatedType:p.relatedType,relatedTo:p.relatedTo,onChangeRelatedTo:function(e,t){l(e,t)},onChangeRelatedType:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(ua,{error:b,id:"completedTime",name:"completedTime",completionAllDay:p.completionAllDay,completionTimeDate:p.completionTimeDate,completionTimeFrom:p.completionTimeFrom,completionTimeTo:p.completionTimeTo,onChangeCompletedTimeAllDay:function(e){var t=!0;p.completionAllDay&&(t=!1),me.completionTimeFrom.rule.required=!t,me.completionTimeTo.rule.required=!t,l("completionAllDay",e,me)},onChangeCompletedTimeDate:function(e){l("completionTimeDate",e)},onChangeCompletedTimeFrom:function(e){l("completionTimeFrom",e)},onChangeCompletedTimeTo:function(e){l("completionTimeTo",e)}})}),Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(da,{disabled:p.completionAllDay,value:p.reminderTime,onChange:function(e,t){l(e,t)}})}),Object(x.jsx)(T.a,{item:!0,xs:6}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(ja,{errMsg:b.location,value:p.location,onChange:h,onInputChange:h})})]})}),Object(x.jsxs)(xn.a,{className:"dialog-actions",children:[Object(x.jsx)(it.a,{autoFocus:!0,variant:"outlined",onClick:function(){return v(t)},children:"H\u1ee7y"}),Object(x.jsx)(it.a,{autoFocus:!0,color:"primary",disabled:function(){var e=!0;return j()&&(e=!1),e}(),variant:"contained",onClick:O,children:"L\u01b0u"})]})]})})),wa=n(34),ya=n(35),Ta=n(562),ka=n(292),Da=n.n(ka),Ca=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKOFFICE_API:"https://microapi2.propzy.vn/backoffice",REACT_APP_BASE_API:"https://microapi2.propzy.vn/calendar-task",REACT_APP_PUBLIC_ICON_PATH:"/app/calendar-task/icons",REACT_APP_PUBLIC_IMAGE_PATH:"/app/calendar-task/images",REACT_APP_TASK_TRACKING_DESTINATION:"/app/tracking",REACT_APP_TASK_TRACKING_EVENT_APP_CODE:"propzy.dashboard",REACT_APP_TASK_TRACKING_EVENT_SOURCE_CODE:"propzy.cal-task-service"}).REACT_APP_TASK_TRACKING_URL||"",Na=function(){function e(){var t=this;Object(wa.a)(this,e),this.client=null,this.isConnected=!1,this.isConnecting=!1,this.waitForOpenConnection=function(){return new Promise((function(e,n){var a=0;if(t.isConnected)e();else var c=setInterval((function(){a>39?(clearInterval(c),n(new Error("Maximum number of attempts exceeded"))):t.isConnected&&(clearInterval(c),e()),a+=1}),300)}))}}return Object(ya.a)(e,[{key:"connect",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.isConnecting=!0,t.client=Ta.a.over((function(){return new Da.a(Ca)})),t.client.debug=function(){return null},t.client.connect({},(function(){t.isConnecting=!1,t.isConnected=!0,e()}),(function(){t.isConnecting=!1,n()}),(function(){t.isConnected=!1}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=this;this.client&&this.client.disconnect((function(){e.isConnected=!1}))}},{key:"sendEvent",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,c,r,o,i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eventName,a=t.timestamp,c=t.eventTransactionId,r=t.eventData,e.prev=1,this.isConnected||this.isConnecting||this.connect(),e.next=5,this.waitForOpenConnection();case 5:i=It(),s=i.userSessionId,l=i.token,null===(o=this.client)||void 0===o||o.send("/app/tracking",{accessToken:l,userSessionId:s,requestId:Object(In.a)()},JSON.stringify({eventTypeCode:n,eventSourceCode:"propzy.cal-task-service",eventAppCode:"propzy.dashboard",timestamp:a,eventTransactionId:c,uuid:Object(In.a)(),eventData:Object(w.a)({userSessionId:s},r)})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ia=new Na,Sa=(n(476),function(e){var t=Object(i.useContext)(O).setLoading,n=e.displayModal,a=e.id,c=e.title,r=e.setDisplayModal,o=Object(i.useState)(vt),s=Object(j.a)(o,2),l=s[0],u=s[1],b=function(){var e=Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,Ie(a);case 3:n=e.sent,t(!1),n.code===je&&n.data&&u(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){b()}),[a]);var p=function(e,t){u(vt),r(e,t)},f=function(){var e=Object(m.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,Ne(a);case 3:c=e.sent,t(!1),alert(c.message),c.code===je&&(p(n,!0),Ia.sendEvent({eventName:"cal_user_edit_task",timestamp:+new Date,eventTransactionId:Object(In.a)()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(ga,{displayModal:n,id:a,item:l,title:c,handleCloseModal:p,handleSubmitForm:f,setDisplayModal:r,setTodoTask:u})}),Ea=function(e){var t=Object(i.useRef)(e);return t.current=e,t};var Ma=function(e){var t=Object(i.useRef)(localStorage.getItem("view_detail_task_tracking")||"unknown"),n=Object(i.useRef)(Object(In.a)()),a=Ea(e),c=function(e){if(t.current&&n.current){var c=a.current||{},r=c.id,o=c.completionAllDay,i=c.completionTimeDate,s=c.completionTimeFrom,l=c.completionTimeTo,u=c.reminderTime,d=c.status;Ia.sendEvent({eventName:"cal_user_".concat(e,"_view_detail_task"),timestamp:+new Date,eventTransactionId:n.current,eventData:{eventSourceCode:t.current,id:r,completionAllDay:o,completionTimeDate:i,completionTimeFrom:s,completionTimeTo:l,reminderTime:u,status:d}})}},r=Object(i.useCallback)((function(){"hidden"===document.visibilityState?c("end"):c("start")}),[]);Object(i.useEffect)((function(){return localStorage.removeItem("view_detail_task_tracking"),Ia.connect(),c("start"),document.addEventListener("visibilitychange",r),function(){c("end"),Ia.disconnect(),document.removeEventListener("visibilitychange",r)}}),[])},_a=function(){var e=Object(i.useContext)(O),t=e.checkPermission,n=e.setLoading,a=Object(i.useState)(!1),c=Object(j.a)(a,2),r=c[0],s=c[1],l=Object(i.useState)(0),u=Object(j.a)(l,2),b=u[0],p=u[1],f=Object(i.useState)(!1),v=Object(j.a)(f,2),g=v[0],D=v[1],C=Object(i.useState)(!1),N=Object(j.a)(C,2),I=N[0],S=N[1],E=Object(i.useState)(""),M=Object(j.a)(E,2),A=M[0],F=M[1],L=Object(i.useState)(!1),P=Object(j.a)(L,2),R=P[0],q=P[1],B=Object(i.useState)(ht),H=Object(j.a)(B,2),V=H[0],z=H[1],K=Object(i.useState)(!1),U=Object(j.a)(K,2),W=U[0],G=U[1],J=Object(i.useState)(Tt),Y=Object(j.a)(J,2),X=Y[0],Z=Y[1];Object(i.useEffect)((function(){var e=V.attachedFiles.filter((function(e){return de.indexOf(e.type.toLowerCase())>-1}));e.length>0&&(X.mFile=[].concat(Object(y.a)(X.mFile),Object(y.a)(e)));var t=V.attachedFiles.filter((function(e){return le.indexOf(e.type.toLowerCase())>-1}));t.length>0&&(X.image=[].concat(Object(y.a)(X.image),Object(y.a)(t))),Z(X)}),[V]);var Q=Object(h.f)().id;Ma(Object(w.a)({id:Q},V));var $=function(){var e=Object(m.a)(d.a.mark((function e(){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,t("read");case 3:if((a=e.sent).code===je){e.next=8;break}return alert(a.message),window.location.href="/401-not-permission",e.abrupt("return");case 8:return e.next=10,Ie(Number(Q));case 10:c=e.sent,n(!1),c.code===je&&c.data&&z(c.data);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){$()}),[]),Object(i.useEffect)((function(){W&&$()}),[W]);var ee,te=function(){var e=Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("update");case 2:if((n=e.sent).code===je){e.next=6;break}return alert(n.message),e.abrupt("return");case 6:D(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("update");case 2:if((n=e.sent).code===je){e.next=6;break}return alert(n.message),e.abrupt("return");case 6:S(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(d.a.mark((function e(n,a,c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,t("update");case 3:if((r=e.sent).code===je){e.next=7;break}return alert(r.message),e.abrupt("return");case 7:q(n),F(a),c&&G(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ce=function(){ae(!R,"C\u1eadp nh\u1eadt c\xf4ng vi\u1ec7c")};return Q&&V.name?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(qe,{className:"page-title",title:"Chi ti\u1ebft c\xf4ng vi\u1ec7c",variant:"h1"}),Object(x.jsxs)(k.a,{elevation:3,className:"content mt-10",children:[(ee=V.status,ee===o.INCOMPLETE&&Object(x.jsxs)(T.a,{className:"action-buttons",container:!0,direction:"row-reverse",children:[Object(x.jsx)(st,{className:"btn-cancel",label:"Hu\u1ef7",variant:"contained",onClick:ne}),Object(x.jsx)(st,{className:"btn-update",label:"S\u1eeda",variant:"contained",onClick:ce}),Object(x.jsx)(st,{className:"btn-create",label:"Ho\xe0n t\u1ea5t",variant:"contained",onClick:te})]})),Object(x.jsx)(T.a,{className:"title-container",container:!0,children:Object(x.jsx)(qe,{variant:"h6",title:V.name})}),Object(x.jsx)("div",{className:"page-detail",children:Object(x.jsxs)(T.a,{container:!0,children:[Object(x.jsxs)(T.a,{item:!0,xs:8,children:[Object(x.jsxs)(T.a,{className:"mt-10",container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(cn,{value:V.typeName})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(rn,{value:V.status})})]}),Object(x.jsxs)(T.a,{className:"mt-30",container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(on,{value:V.priority})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(sn,{isAllDay:V.completionAllDay,timeFrom:V.completionTimeFrom,timeTo:V.completionTimeTo,timeDate:V.completionTimeDate})}),Object(x.jsx)(T.a,{item:!0,xs:4,children:Object(x.jsx)(ln,{value:V.reminderTime})})]}),Object(x.jsx)(T.a,{className:"mt-30",container:!0,children:Object(x.jsx)(un,{value:V.description})}),Object(x.jsxs)(T.a,{className:"mt-20",container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(dn,{relatedTo:V.relatedTo,relatedType:V.relatedType})}),Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(mn,{value:V.location})})]}),Object(x.jsxs)(T.a,{className:"mt-30",container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(bn,{label:"Ng\u01b0\u1eddi chuy\u1ec3n",value:V.assignorId,assignorName:V.assignorName})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(jn,{label:"Ng\xe0y chuy\u1ec3n",value:V.createdDate})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(pn,{label:_,value:V.assignedTo,assignedToName:V.assignedToName})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(jn,{label:"Ng\xe0y c\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t",value:V.updatedDate})})]}),Object(x.jsx)(T.a,{container:!0,children:Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(Pe,{id:Number(Q),status:V.status})})})]}),Object(x.jsx)(T.a,{className:"mt-40 attached-files",item:!0,xs:4,children:Object(x.jsx)(Re,{label:"\u0110\xednh k\xe8m",value:Lt(X,(function(e){return s(!r),p(e),e}))})})]})}),Rt(r,X.image,b,s,p)]}),R&&Object(x.jsx)(Sa,{id:Number(Q),displayModal:R,title:A,setDisplayModal:function(e,t){return ae(!e,"",t)}}),Object(x.jsx)(Nn,{displayModal:g,id:Number(Q),createdBy:Number(V.createdBy),featureCode:be,setDisplayModal:function(e){return D(!e)},title:"K\u1ebft qu\u1ea3 c\xf4ng vi\u1ec7c"}),Object(x.jsx)(Nn,{displayModal:I,id:Number(Q),createdBy:Number(V.createdBy),featureCode:pe,setDisplayModal:function(e){return S(!e)},title:"H\u1ee7y c\xf4ng vi\u1ec7c"})]}):Object(x.jsx)(x.Fragment,{})},Aa=(n(480),function(e){var t=Object(i.useContext)(O).setLoading,n=e.dataPost,a=e.displayModal,c=e.title,r=e.handleListValue,o=e.setDisplayModal,s=function(e,t){o(e,t)},l=function(){var e=Object(m.a)(d.a.mark((function e(n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,Ce(n);case 3:c=e.sent,t(!1),alert(c.message),c.code===je&&(s(a,!0),Ia.sendEvent({eventName:"cal_user_create_task",timestamp:+new Date,eventTransactionId:Object(In.a)()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(ga,{displayModal:a,item:n,title:c,handleCloseModal:function(e){return s(e)},handleSubmitForm:l,setDisplayModal:o,setTodoTask:r})}),Fa=function(e){var t=e.errMsg,n=e.multiple,a=e.placeholder,c=void 0===a?"-- T\u1ea5t c\u1ea3 tr\u1ea1ng th\xe1i --":a,r=e.required,o=e.value,s=e.onChange,l="status",u=Object(i.useMemo)((function(){return St(o)?"Ch\u1ecdn tr\u1ea1ng th\xe1i":c}),[c,o]),b=Object(i.useState)([]),p=Object(j.a)(b,2),f=p[0],v=p[1],h=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,Ue();case 3:n=e.sent,t||n.code!==je||(n.data||n.data&&n.data.length>0)&&(t=!0,a=Bt(l,n.data),a=f.concat(a),v(a));case 5:case"end":return e.stop()}}),e)}))),[f]);Object(i.useEffect)((function(){h()}),[]);return Object(x.jsx)(Pn,{error:t,id:l,label:V,multiple:n,name:l,option:f,placeholder:u,required:r,value:o,onChange:function(e,t){s(e,n?t:t?[t]:[])}})},La=function(e){var t=Object(i.useContext)(O).setLoading,n=e.errMsg,a=e.multiple,c=e.placeholder,r=void 0===c?"-- T\u1ea5t c\u1ea3 Team --":c,o=e.required,s=e.value,l=e.zoneIds,u=e.onChange,b=Ln()(s)&&s||"",p="teamIds",f=Object(i.useMemo)((function(){return St(s)?"Ch\u1ecdn Team":r}),[r,s]),v=Object(i.useState)([]),h=Object(j.a)(v,2),g=h[0],w=h[1],y=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!(l&&l.length>0)){e.next=8;break}return t(!0),e.next=5,Ge(l);case 5:a=e.sent,t(!1),a.code===je&&(a.data||a.data&&a.data.length>0)&&(n=Wt(p,a.data));case 8:w(n);case 9:case"end":return e.stop()}}),e)}))),[l]);Object(i.useEffect)((function(){y()}),[l]);return Object(x.jsx)(Pn,{error:n,id:p,label:"Team",multiple:a,name:p,option:g,placeholder:f,required:o,value:b,onChange:function(e,t){u(e,a?t:t?[t]:[])}})},Pa=function(e){var t=Object(i.useContext)(O).setLoading,n=e.errMsg,a=e.multiple,c=e.placeholder,r=void 0===c?"-- T\u1ea5t c\u1ea3 Zone --":c,o=e.required,s=e.value,l=e.onChange,u=Ln()(s)&&s||"",b="zoneIds",p=Object(i.useMemo)((function(){return St(s)?"Ch\u1ecdn Zone":r}),[r,s]),f=Object(i.useState)([]),v=Object(j.a)(f,2),h=v[0],g=v[1],w=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,ke({url:"".concat(ve,"task/getZoneList"),embbedHeader:!0});case 3:n=e.sent,t(!1),n.code===je&&(n.data||n.data&&n.data.length>0)&&(a=Ut(b,n.data),g(a));case 6:case"end":return e.stop()}}),e)}))),[h]);Object(i.useEffect)((function(){w()}),[]);return Object(x.jsx)(Pn,{error:n,id:b,label:"Zone",multiple:a,name:b,option:h,placeholder:p,required:o,value:u,onChange:function(e,t){l(e,a?t:t?[t]:[])}})},Ra=function(e){var t=e.errMsg,n=e.multiple,a=e.placeholder,c=void 0===a?"-- T\u1ea5t c\u1ea3 ph\xf2ng ban --":a,r=e.required,o=e.value,s=e.onChange,l=Ln()(o)&&o||"",u="departmentIds",b=Object(i.useMemo)((function(){return St(o)?"Ch\u1ecdn ph\xf2ng ban":c}),[c,o]),p=Object(i.useState)([]),f=Object(j.a)(p,2),v=f[0],h=f[1],O=Object(i.useCallback)(Object(m.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,ke({url:"".concat(ve,"task/getDepartmentList"),embbedHeader:!0});case 3:n=e.sent,t||n.code!==je||(n.data||n.data&&n.data.length>0)&&(t=!0,a=Gt(u,n.data),a=v.concat(a),h(a));case 5:case"end":return e.stop()}}),e)}))),[v]);Object(i.useEffect)((function(){O()}),[]);return Object(x.jsx)(Pn,{error:t,id:u,label:"Ph\xf2ng ban",multiple:n,name:u,option:v,placeholder:b,required:r,value:l,onChange:function(e,t){s(e,n?t:t?[t]:[])}})},qa=n(554),Ba=n(555),Ha=n(511),Va=n(294),za=(n(491),n(492),Object(Ha.a)((function(){return{buttonGroup:{marginBottom:"16px",marginRight:"10px","& button":{margin:"0 !important"}},agendaButton:{margin:"0 !important"},groupByButton:{minWidth:"160px"}}}))),Ka=function(e){var t=e.values,n=e.onChange,a=e.onChangeAgenda,c=e.onToggleModal,r=za(),o=Object(i.useState)(!1),s=Object(j.a)(o,2),l=s[0],u=s[1],d=Object(i.useState)(),m=Object(j.a)(d,2),b=m[0],p=m[1];Object(i.useEffect)((function(){p([{startDate:at()(t.fromDate).toDate(),endDate:at()(t.toDate).toDate(),key:"selection"}])}),[t.fromDate,t.toDate]);var f="".concat(at()(t.fromDate).format(J)," - ").concat(at()(t.toDate).format(J)),v="flex-end",h="hide";"agenda"===t.view&&(h="show",v="flex-start");return Object(x.jsxs)(T.a,{className:"filter-advance",container:!0,spacing:2,justifyContent:v,children:[Object(x.jsx)(T.a,{className:"filter-agenda ".concat(h),item:!0,xs:5,children:Object(x.jsxs)(T.a,{container:!0,children:[Object(x.jsx)(st,{className:"label-picker-btn",label:f,variant:"outlined",onClick:function(){return u(!l)}}),l&&Object(x.jsx)(N.a,{className:"date-range-picker",component:"div",children:Object(x.jsx)(Va.DateRangePicker,{direction:"horizontal",months:2,moveRangeOnFirstSelection:!1,ranges:b,onChange:function(e){p([e.selection]),e.selection.startDate!==e.selection.endDate&&(a(e.selection),u(!1))}})}),Object(x.jsx)(Xn,{id:"filterGroupBy",name:"groupBy",className:r.groupByButton,options:Yt(gt),value:t.groupBy,onChange:n})]})}),Object(x.jsx)(T.a,{className:"filter-type",item:!0,xs:7,children:Object(x.jsxs)(T.a,{children:[Object(x.jsxs)(qa.a,{className:r.buttonGroup,"aria-label":"outlined primary button group",children:[Object(x.jsx)(st,{disabled:"day"===t.view,label:"Ng\xe0y",variant:"contained",onClick:function(){return n("day","list")}}),Object(x.jsx)(st,{disabled:"week"===t.view,label:"Tu\u1ea7n",variant:"contained",onClick:function(){return n("week","list")}}),Object(x.jsx)(st,{disabled:"month"===t.view,label:"Th\xe1ng",variant:"contained",onClick:function(){return n("month","list")}})]}),function(e){var a="list";return"list"===e&&(a="agenda"),"agenda"===e&&(a="list"),Object(x.jsx)(st,{className:r.agendaButton,disabled:"agenda"===t.view,label:"Danh s\xe1ch",variant:"contained",onClick:function(){return n(a)}})}(t.mode),Object(x.jsx)(st,{className:"btn-add",color:"primary",label:K,startIcon:Object(x.jsx)(Ba.a,{}),variant:"outlined",onClick:function(){return c(!0)}})]})})]})},Ua=(n(493),function(e){var t=e.values,n=e.onApplyAdvanceFilter,a=e.onCancel,c=e.onChange,r=e.onChangeDateAgenda,o=e.onReset,s=e.onSearch,l=e.onToggleModal,u=e.setAssignedToIds,d=Object(i.useState)(!1),m=Object(j.a)(d,2),b=m[0],p=m[1],f="",v="hide";b&&(f="hide",v="");return Object(x.jsxs)(T.a,{className:"filter-container",container:!0,children:[Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsxs)(T.a,{container:!0,spacing:2,children:[Object(x.jsx)(T.a,{item:!0,xs:9,children:Object(x.jsxs)(N.a,{className:"filter-tool",component:"div",children:[Object(x.jsx)(N.a,{component:"h3",children:"C\xf4ng c\u1ee5 t\xecm ki\u1ebfm"}),Object(x.jsx)(N.a,{className:"toggle-header ".concat(f),component:"span",onClick:function(){return p(!0)},children:"\u1ea8n"}),Object(x.jsx)(N.a,{className:"toggle-header ".concat(v),component:"span",onClick:function(){return p(!1)},children:"Hi\u1ec7n"})]})}),Object(x.jsxs)(T.a,{className:"action-search-group ".concat(f),item:!0,xs:3,children:[Object(x.jsx)(st,{className:"search-btn",color:"primary",variant:"contained",label:"T\xecm ki\u1ebfm",onClick:s}),Object(x.jsx)(st,{className:"cancel-btn",variant:"outlined",label:"B\u1ecf l\u1ecdc",onClick:function(){return a()}})]})]})}),Object(x.jsx)(T.a,{className:"filter-header",item:!0,xs:12,children:Object(x.jsxs)(T.a,{className:f,container:!0,spacing:2,children:[Object(x.jsx)(T.a,{item:!0,xs:6,children:Object(x.jsx)(Rn,{multiple:!0,name:"types",value:t.types,onChange:c})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(Fa,{multiple:!0,value:t.status,onChange:c})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(Bn,{value:t.priority,onChange:c})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(Pa,{value:t.zoneIds,onChange:c})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(La,{value:t.teamIds,zoneIds:t.zoneIds,onChange:c})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(Ra,{value:t.departmentIds,onChange:c})}),Object(x.jsx)(T.a,{item:!0,xs:3,children:Object(x.jsx)(qn,{departmentIds:t.departmentIds,multiple:!0,name:"assignedToIds",teamIds:t.teamIds,value:t.assignedToIds,zoneIds:t.zoneIds,onChange:c,setAssignedToIds:u})})]})}),Object(x.jsx)(T.a,{item:!0,xs:12,children:Object(x.jsx)(Ka,{values:t,onChange:n,onChangeAgenda:r,onChangeFilter:c,onReset:o,onToggleModal:l})})]})}),Wa=n(206),Ga=(n(494),function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){return t.current=e,function(){t.current=null}})),t.current});var Ja=function(e){var t=Object(i.useRef)(null),n=Ga(e),a=Ea(e),c=function(e){t.current&&Ia.sendEvent({eventName:e,timestamp:+new Date,eventTransactionId:t.current})},r=function(){var a=Object(m.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n&&t.current&&c("cal_user_end_view_calendar_".concat(n)),t.current=Object(In.a)(),c("cal_user_start_view_calendar_".concat(e));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),o=Object(i.useCallback)((function(){"hidden"===document.visibilityState?c("cal_user_end_view_calendar_".concat(a.current)):c("cal_user_start_view_calendar_".concat(a.current))}),[]);Object(i.useEffect)((function(){r()}),[e]),Object(i.useEffect)((function(){return Ia.connect(),document.addEventListener("visibilitychange",o),function(){Ia.disconnect(),document.removeEventListener("visibilitychange",o)}}),[])};n(495),n(496);at.a.locale(fe[0]);var Ya=Object(Wa.b)(at.a),Xa={vi:{showMore:function(e){return"+".concat(e," ").concat("c\xf4ng vi\u1ec7c")}}},Za=function(e){var t=e.events,n=e.filterMode,a=e.listViews,c=e.onChange,r=e.onCreateEvent,o=e.onNavigate,s=Object(i.useState)(!1),l=Object(j.a)(s,2),u=l[0],d=l[1],m=Object(i.useState)([]),b=Object(j.a)(m,2),p=b[0],f=b[1],v=Object(i.useState)(),h=Object(j.a)(v,2),O=h[0],g=h[1],w=fe[0];Ja(n.view||"");return"agenda"!==n.view&&(t.sort((function(e,t){return t.resource.priority-e.resource.priority})),t.sort((function(e,t){return e.resource.status-t.resource.status}))),Object(x.jsxs)(N.a,{className:"big-calendar",component:"div",children:[Object(x.jsx)(Wa.a,{components:{event:Qt,day:{header:Zt},week:{header:Zt},month:{header:Zt},toolbar:function(e){return function(e){var t=e.mode,n=Object(tt.a)((function(){return{navigateButton:{padding:"5px",minWidth:"initial"},navigateButtonRight:{marginRight:"16px"},todayButton:{padding:"5px 15px"}}}))();if("agenda"===t)return null;var a=e.toolbar,c=e.prevView,r=e.onHandleNavigate,o=a.date,i=a.label,s=a.view,l=a.onNavigate,u=Et(i);return Object(x.jsx)(T.a,{container:!0,children:Object(x.jsxs)(N.a,{className:"toolbar-container",component:"div",children:[Object(x.jsx)(st,{className:n.navigateButton,startIcon:Object(x.jsx)(Qe.a,{}),variant:"outlined",onClick:function(){var e=o.setDate(o.getDate());"day"===s&&o.setDate(o.getDate()-1),"week"===s&&o.setDate(o.getDate()-7),"month"===s&&o.setMonth(o.getMonth()-1);var t=Ct({date:o,prevView:c,view:s}),n=t.fromDate,a=t.toDate;l("PREV",e),r({fromDate:n,toDate:a})}}),Object(x.jsx)(st,{className:n.todayButton,label:"H\xf4m nay",variant:"outlined",onClick:function(){o.setDate(o.getDate());var e=Ct({date:o,prevView:"day",view:"agenda"}),t=e.fromDate,n=e.toDate;l("TODAY",o),r({fromDate:t,toDate:n})}}),Object(x.jsx)(st,{className:"".concat(n.navigateButton," ").concat(n.navigateButtonRight),startIcon:Object(x.jsx)(et.a,{}),variant:"outlined",onClick:function(){var e=o.setDate(o.getDate());"day"===s&&o.setDate(o.getDate()+1),"week"===s&&o.setDate(o.getDate()+7),"month"===s&&o.setMonth(o.getMonth()+1);var t=Ct({date:o,prevView:c,view:s}),n=t.fromDate,a=t.toDate;l("NEXT",e),r({fromDate:n,toDate:a})}}),Object(x.jsx)(N.a,{component:"label",className:"label-date",children:u})]})})}({mode:n.mode,prevView:n.prevView,toolbar:e,onHandleNavigate:function(e){return o(e)}})},timeGutterHeader:function(){return Object(x.jsx)("p",{children:Object(ct.upperFirst)(z)})}},messages:Xa[w],defaultDate:at()(ft).toDate(),doShowMoreDrillDown:!1,events:t,eventPropGetter:function(){return{style:{background:"#fff",color:"#727272"}}},formats:{dayHeaderFormat:"dddd, DD MMMM",monthHeaderFormat:"MMMM, YYYY",dayRangeHeaderFormat:function(e){var t="Ng\xe0y ".concat(at()(kt(e.start,"day")).format("DD MMMM")),n="Ng\xe0y ".concat(at()(kt(e.end,"day")).format("DD MMMM")),a=Et(n);return"".concat(t," - ").concat(a)}},localizer:Ya,resourceIdAccessor:"id",resourceTitleAccessor:"name",selectable:!0,tooltipAccessor:function(){return""},view:n.view,views:a,onSelectEvent:function(e){localStorage.setItem("view_detail_task_tracking",JSON.stringify({source:"calendar",mode:n.view||""})),window.open("/calendar-task/detail/".concat(e.resource.id),"_blank")},onSelectSlot:r,onShowMore:function(e,t){return function(e,t){d(!u),f(e),g(t)}(e,t)},onView:function(e){return c("view",e)}}),u&&Object(x.jsx)(fn.a,{className:"dialog-container",fullWidth:!0,maxWidth:"sm",open:u,scroll:"body",onClose:function(){return d(!1)},children:Object(x.jsx)($t,{events:p,date:O,currentMode:n.view})})]})},Qa=n(556),$a=n(557),ec=n(558),tc=n(559),nc=n(560),ac=function(e){var t,n=e.events,a=function(e,t){return e.list.sort((function(e,t){return t.priority-e.priority})),e.list.sort((function(e,t){return e.status-t.status})),e.list.sort((function(e,t){return t.completionAllDay-e.completionAllDay})),e.list.sort((function(e,t){return e.completionTimeFrom-t.completionTimeFrom})),e.list.sort((function(e,t){return e.completionTimeDate-t.completionTimeDate})),e.list&&e.list.map((function(n,a){var c=e.list.length,r="todo-agent-".concat(t,"-").concat(a,"-").concat(n.assignedTo),o="";n.completionTimeFrom&&n.completionTimeFrom<ft&&(o="is-the-past");var i=z;if(!n.completionAllDay){n.completionTimeFrom<ft&&(o="is-the-past");var s=at()(n.completionTimeFrom).format(G),l=at()(n.completionTimeTo).format(G);i="".concat(s," - ").concat(l)}var u=null;return 0===a&&(u=Object(x.jsxs)(Qa.a,{className:"v-align-top",rowSpan:c,component:"td",children:[n.assignedToName," (",c,")"]})),Object(x.jsxs)($a.a,{className:"todo-row",children:[u,Object(x.jsx)(Qa.a,{align:"left",children:Object(x.jsx)(N.a,{className:o,component:"div",children:at()(n.completionTimeDate).format(J)})}),Object(x.jsx)(Qa.a,{align:"left",className:"row-time",children:Object(x.jsx)(N.a,{className:o,component:"div",children:i})}),Object(x.jsx)(Qa.a,{align:"left",className:"row-name",children:Object(x.jsx)(N.a,{onClick:function(){return e=n.id,localStorage.setItem("view_detail_task_tracking",JSON.stringify({source:"calendar",mode:"agenda"})),void window.open("/calendar-task/detail/".concat(e),"_blank");var e},component:"a",children:n.name})}),Object(x.jsx)(Qa.a,{align:"right",children:Object(x.jsx)(Re,{className:"no-padding",value:_t(n.priority)})}),Object(x.jsx)(Qa.a,{align:"left",children:Object(x.jsx)(Re,{className:"no-padding",value:Mt(n.status)})}),Object(x.jsx)(Qa.a,{align:"left",children:Object(x.jsx)(Re,{className:"no-padding",value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:n.typeName})})})})]},r)}))},c=function(e,t){var n=e.resource;return n.groupBy===gt[0].value?a(n,t):function(e,t){return e.list.sort((function(e,t){return t.priority-e.priority})),e.list.sort((function(e,t){return e.status-t.status})),e.list.sort((function(e,t){return t.completionAllDay-e.completionAllDay})),e.list.sort((function(e,t){return e.completionTimeFrom-t.completionTimeFrom})),e.list&&e.list.map((function(n,a){var c=z;if(!n.completionAllDay){var r=at()(n.completionTimeFrom).format(G),o=at()(n.completionTimeTo).format(G);c="".concat(r," - ").concat(o)}var i="todo-date-".concat(a,"-").concat(t,"-").concat(n.completionTimeDate),s="row-time";n.completionTimeFrom&&n.completionTimeFrom<ft&&(s+=" is-the-past"),n.completionAllDay||n.completionTimeFrom<ft&&(s+=" is-the-past");var l=null;return 0===a&&(l=Object(x.jsx)(Qa.a,{className:"".concat(s," v-align-top"),rowSpan:e.list.length,children:at()(n.completionTimeDate).format(J)})),Object(x.jsxs)($a.a,{className:"todo-row",children:[l,Object(x.jsx)(Qa.a,{align:"left",className:s,children:c}),Object(x.jsx)(Qa.a,{align:"left",className:"row-name",children:n.name}),Object(x.jsx)(Qa.a,{align:"right",children:Object(x.jsx)(Re,{className:"no-padding",value:_t(n.priority)})}),Object(x.jsx)(Qa.a,{align:"left",children:Object(x.jsx)(Re,{className:"no-padding",value:Mt(n.status)})}),Object(x.jsx)(Qa.a,{align:"left",children:Object(x.jsx)(Re,{className:"no-padding",value:Object(x.jsx)(qe,{className:"item-value",title:Object(x.jsx)("span",{children:n.typeName})})})}),Object(x.jsx)(Qa.a,{component:"th",scope:"row",children:n.assignedToName})]},i)}))}(n,t)};return Object(x.jsx)(ec.a,{className:"agenda-container",component:k.a,children:Object(x.jsx)(tc.a,{className:"calendar-list","aria-label":"simple table",children:Object(x.jsx)(nc.a,{children:(t=n,t&&0!==t.length?t.map((function(e,t){var n="data-".concat(t);return e.resource.list?c(e,n):Object(x.jsx)($a.a,{className:"todo-row",children:Object(x.jsx)(Qa.a,{component:"th",scope:"row",children:"\xa0"})},n)})):Object(x.jsx)($a.a,{className:"todo-row",children:Object(x.jsx)(Qa.a,{component:"th",scope:"row",children:Q})}))})})})};ac.title=function(e,t){var n=t.localizer,a=at()(e).add(1,"month");return n.format({start:e,end:a},"agendaHeaderFormat")},ac.navigate=function(e,t){var n=at()(e).startOf("month").toDate();switch(t){case"PREV":return at()(n).subtract(1,"month").toDate();case"NEXT":return at()(n).add(1,"month").toDate();default:return e}};n(497);var cc=function(){var e=Object(i.useContext)(O),t=e.currentUserId,n=e.checkPermission,a=e.setLoading,c=Object(ct.cloneDeep)(vt);c.assignedTo=t;var r=Object(i.useState)(!1),o=Object(j.a)(r,2),s=o[0],l=o[1],u=Object(i.useState)(Ot),b=Object(j.a)(u,2),p=b[0],f=b[1],v=Object(i.useState)([]),h=Object(j.a)(v,2),g=h[0],y=h[1],T=Object(i.useState)([]),k=Object(j.a)(T,2),D=k[0],C=k[1],I=Object(i.useState)(Object(ct.cloneDeep)(c)),S=Object(j.a)(I,2),E=S[0],M=S[1],_=Object(i.useState)(0),A=Object(j.a)(_,2),F=A[0],L=A[1],P=Object(i.useState)(!1),R=Object(j.a)(P,2),q=R[0],B=R[1],H=Ea(g),V=Object(w.a)(Object(w.a)({},yt),{},{status:[1]}),z=xa(V,{}),U=z.handleInputValue,W=z.handleListValue,G=z.handleReset,J=z.values;Object(i.useEffect)((function(){return function(){s&&(M(Object(ct.cloneDeep)(c)),G(yt))}}),[s]);var Y=Object(i.useCallback)(function(){var e=Object(m.a)(d.a.mark((function e(t){var c,r,o,i,s,l,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>1&&void 0!==u[1]?u[1]:0,a(!0),e.next=4,n("list");case 4:if((r=e.sent).code===je){e.next=9;break}return alert(r.message),window.location.href="/401-not-permission",e.abrupt("return");case 9:if(delete(o=Object(ct.cloneDeep)(J)).departmentIds,delete o.teamIds,delete o.zoneIds,delete o.assignedToIdsToDataPost,0===o.assignedToIds.length&&(o.assignedToIds=J.assignedToIdsToDataPost),t&&(o=Object(w.a)(Object(w.a)({},o),t),J.fromDate=o.fromDate,J.toDate=o.toDate,"agenda"===o.view&&(J.mode=o.view),J.view=o.view,W(J)),i=[],s=null,"agenda"!==o.view){e.next=26;break}return e.next=21,Fe(o,c);case 21:s=e.sent,a(!1),s.code===je&&(s.data&&s.data.content.length>0&&(i=Jt(s.data.content,J.groupBy,o.fromDate,o.toDate),c>0&&H&&(i=H.current.concat(i))),l=!1,c<s.data.totalPages-1&&s.data.totalPages>0&&(l=!0),B(l)),e.next=31;break;case 26:return e.next=28,Ae(o);case 28:s=e.sent,a(!1),s.code===je&&s.data&&s.data.length>0&&(i=Jt(s.data,J.groupBy,o.fromDate,o.toDate));case 31:y(i);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[J]);Object(i.useEffect)((function(){Y()}),[]);var X=function(){var e=Object(m.a)(d.a.mark((function e(t,c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return a(!0),e.next=4,n("add");case 4:if(r=e.sent,a(!1),r.code===je){e.next=9;break}return alert(r.message),e.abrupt("return");case 9:if(!c){e.next=12;break}return e.next=12,Y();case 12:l(t);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){J.assignedToIdsToDataPost=D,J.assignedToIds=[],W(J)}),[D]);var Z=function(e,t){"agenda"===t&&(J.prevView=J.view,U("prevView",J.view)),"zoneIds"===e&&(J.teamIds=[],U("teamIds",J.teamIds)),U(e,t)},Q=function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a,c,r,o,i,s,l,u,m,j,b,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,c=t,r=J.groupBy,"assignee"===n||"date"===n?(s=Ct({mode:n,prevView:J.prevView,view:t}),l=s.fromDate,u=s.toDate,o=l,i=u,r=n,c="agenda",J.view=c,J.groupBy=r,J.fromDate=o,J.toDate=i,W(J)):(m=Ct({prevView:J.view,view:t}),j=m.fromDate,b=m.toDate,o=j,i=b,"agenda"===t&&(J.prevView=J.view,W(J),f(Object(w.a)(Object(w.a)({},p),{},{agenda:ac}))),L(0),"day"!==t&&"week"!==t&&"month"!==t||(a="list",J.mode=a)),v={fromDate:o,groupBy:r,mode:a,toDate:i,view:c},e.next=7,Y(v);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={fromDate:t.fromDate,toDate:t.toDate},e.next=3,Y(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(m.a)(d.a.mark((function e(c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,n("add");case 3:if((r=e.sent).code===je){e.next=7;break}return alert(r.message),e.abrupt("return");case 7:M((function(e){return Object(w.a)(Object(w.a)({},e),{},{assignedTo:t,completionTimeDate:1e3*at()(c.start).unix(),completionTimeFrom:1e3*at()(c.start).unix(),completionTimeTo:1e3*at()(c.end).unix()})})),l(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.fromDate=1e3*at()(t.startDate).startOf("day").unix(),J.toDate=1e3*at()(t.endDate).endOf("day").unix(),e.next=4,Y(J);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(N.a,{className:"calendar-filter",component:"div",children:[Object(x.jsx)(Ua,{toggleLoadMore:q,values:J,onApplyAdvanceFilter:Q,onCancel:function(){G(yt)},onChange:Z,onChangeDateAgenda:ne,onReset:G,onSearch:$,onToggleModal:X,setAssignedToIds:C}),Object(x.jsx)(Za,{events:g,filterMode:J,listViews:p,onChange:Z,onCreateEvent:te,onNavigate:ee}),"agenda"===J.view&&q&&Object(x.jsx)(st,{className:"btn-load-more",color:"primary",label:"Xem th\xeam",variant:"outlined",onClick:function(){return L(e=F+1),void Y(J,e);var e}})]}),Object(x.jsx)(Aa,{dataPost:E,displayModal:s,title:K,handleListValue:W,setDisplayModal:function(e,t){return X(!e,t)}})]})},rc=(n(498),function(e){var t="iloading";return e.status&&(t+=" active"),Object(x.jsx)(N.a,{className:t,component:"div",children:Object(x.jsx)("img",{src:"".concat("/app/calendar-task/images","/loading.svg"),alt:"Loading"})})}),oc=(n(499),448),ic=window.window;oc=ic.currentUser.userId;var sc=function(){var e=Object(i.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!1),r=Object(j.a)(c,2),o=r[0],s=r[1],l=function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Le(t);case 3:return n=e.sent,a(!1),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u={currentUserId:oc,loading:n,respStatus:o,checkPermission:l,setLoading:a,setRespStatus:s};return Object(x.jsx)(b.a,{theme:f,children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(O.Provider,{value:u,children:[Object(x.jsx)(v.a,{children:Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/calendar-task",children:Object(x.jsx)(cc,{})}),Object(x.jsx)(h.a,{exact:!0,path:"/calendar-task/detail/:id",children:Object(x.jsx)(_a,{})}),Object(x.jsx)(h.a,{path:"*",render:g})]})}),Object(x.jsx)(rc,{status:n})]})})})},lc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,574)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};n(500),n(501);l.a.render(Object(x.jsx)(sc,{}),document.getElementById("calendar-task")),lc()}},[[502,1,2]]]);
//# sourceMappingURL=main.36c5b61b.chunk.js.map