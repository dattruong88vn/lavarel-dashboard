(this["webpackJsonpcall-app"]=this["webpackJsonpcall-app"]||[]).push([[0],{121:function(e,t,n){},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"l",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return T})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"d",(function(){return D})),n.d(t,"f",(function(){return E})),n.d(t,"c",(function(){return P})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return z}));var c,a=n(9),i=n(7),l=n(12),r=n(8),o=n.n(r),s=n(16),d=n(30),u=Object(s.a)("increasement"),b=Object(s.a)("setSecond"),j=Object(s.a)("init3CX"),p=Object(s.a)("changeStatus"),f=Object(s.a)("setIntervalId"),m=Object(s.a)("setIncall"),O=Object(s.a)("setPhoneNumber"),v=Object(s.a)("resetState"),h=Object(s.a)("setIsSHow"),w=Object(s.a)("setCallType"),x=Object(s.a)("setToggle"),y={callId:"",count:0,isNewTab:!1,minimize:!1,isShow:!1,inCall:!1,phoneNumber:null,callType:null,counter:{seconds:0,minutes:0,intervalId:null},pbx_3cx:null,status:{isHold:!1,isMute:!1},isReject:!1,isHistory:!1,propzyId:null,dataPostUpdateCall:null,timer:{startedDate:null,endedDate:null,connectedDate:null},actionRejectCall:!1,extClientTool:null,userMakeCall:null,otherParams:null},C=Object(s.b)("call/fetchPropzyId",function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)(t);case 2:if(null===(c=e.sent)||void 0===c||!c.data||null===(n=c.data)||void 0===n||!n.propzyCallId){e.next=7;break}return e.abrupt("return",c.data.propzyCallId);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(s.b)("call/updateEndCall",function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(t);case 2:if(null===(c=e.sent)||void 0===c||!c.data||null===(n=c.data)||void 0===n||!n.propzyCallId){e.next=7;break}return e.abrupt("return",c.data.propzyCallId);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(s.c)({name:"call",initialState:y,reducers:(c={},Object(a.a)(c,u,(function(e){return Object(i.a)(Object(i.a)({},e),{},{count:e.count+1})})),Object(a.a)(c,m,(function(e,t){return console.log(t),Object(i.a)(Object(i.a)({},e),{},{inCall:t.status})})),Object(a.a)(c,b,(function(e){return 59==e.counter.seconds?Object(i.a)(Object(i.a)({},e),{},{counter:Object(i.a)(Object(i.a)({},e.counter),{},{seconds:0,minutes:e.counter.minutes+1})}):Object(i.a)(Object(i.a)({},e),{},{counter:Object(i.a)(Object(i.a)({},e.counter),{},{seconds:e.counter.seconds+1})})})),Object(a.a)(c,j,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{pbx_3cx:t.pbx_3cx})})),Object(a.a)(c,p,(function(e,t){return 1===t.code?Object(i.a)(Object(i.a)({},e),{},{status:Object(i.a)(Object(i.a)({},e.status),{},{isHold:t.status})}):Object(i.a)(Object(i.a)({},e),{},{status:Object(i.a)(Object(i.a)({},e.status),{},{isMute:t.status})})})),Object(a.a)(c,f,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{counter:Object(i.a)(Object(i.a)({},e.counter),{},{intervalId:t.id})})})),Object(a.a)(c,O,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{phoneNumber:t.phoneNumber})})),Object(a.a)(c,v,(function(e){return Object(i.a)(Object(i.a)({},y),{},{pbx_3cx:e.pbx_3cx,isReject:e.isReject,extClientTool:e.extClientTool})})),Object(a.a)(c,h,(function(e){return Object(i.a)(Object(i.a)({},e),{},{isShow:!0})})),Object(a.a)(c,w,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{callType:t.status})})),Object(a.a)(c,x,(function(e){return Object(i.a)(Object(i.a)({},e),{},{minimize:!e.minimize})})),Object(a.a)(c,"setIsReject",(function(e,t){e.isReject=t.payload})),Object(a.a)(c,"setIsHistory",(function(e){e.isHistory=!0})),Object(a.a)(c,"setDataPost",(function(e,t){e.dataPostUpdateCall=t.payload})),Object(a.a)(c,"setTimer",(function(e,t){switch(t.payload.type){case"startedDate":e.timer.startedDate=t.payload.value;break;case"endedDate":e.timer.endedDate=t.payload.value;break;case"connectedDate":e.timer.connectedDate=t.payload.value}})),Object(a.a)(c,"setActionRejectCall",(function(e,t){e.actionRejectCall=t.payload})),Object(a.a)(c,"setExtClientTool",(function(e,t){e.extClientTool=t.payload})),Object(a.a)(c,"hideIsShow",(function(e){e.isShow=!1})),Object(a.a)(c,"setUserMakeCall",(function(e,t){e.userMakeCall=t.payload})),Object(a.a)(c,"updateCallConfig",(function(e,t){e.callConfig=t.payload})),c),extraReducers:function(e){e.addCase(C.fulfilled,(function(e,t){e.propzyId=t.payload}))}}),N=I.actions,_=N.setIsReject,T=N.setIsHistory,k=N.setDataPost,S=N.setTimer,D=N.setActionRejectCall,E=N.setExtClientTool,P=N.hideIsShow,R=N.setUserMakeCall,z=N.updateCallConfig;t.a=I.reducer},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return f}));var c=n(12),a=n(8),i=n.n(a),l=n(16),r=n(30),o=Object(l.b)("customer/fetchListing",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.b)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=Object(l.b)("customer/fetchCustomer",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(l.c)({name:"task",initialState:{infoCustomer:null,listings:{},listingsClone:{},status:"idle",keyword:"",isShow:!1},reducers:{setKeyword:function(e,t){e.keyword=t.payload},setListings:function(e,t){e.listings=t.payload},toggleInfo:function(e){e.isShow=!e.isShow},hideInfo:function(e){e.isShow=!1}},extraReducers:function(e){e.addCase(o.fulfilled,(function(e,t){console.log(t.payload),e.isShow=!0,e.listings=t.payload.data,e.listingsClone=t.payload.data})),e.addCase(s.fulfilled,(function(e,t){e.infoCustomer=t.payload.data}))}}),u=d.actions,b=u.setKeyword,j=u.setListings,p=u.toggleInfo,f=u.hideInfo;t.a=d.reducer},175:function(e,t){},177:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(19),l=n.n(i),r=(n(92),n(10)),o=n(17),s=n(1);function d(e){var t=Object(r.b)(),n=Object(r.c)((function(e){return e.customer})),c=Object(r.c)((function(e){return e.call}));return e.inCall?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"col-md-3 text-center",children:Object(s.jsx)("button",{className:"btn btn-link",onClick:function(){e._mute()},children:Object(s.jsx)("i",{className:e.isMute?"icon-call-service icon-call-mute":"icon-call-service icon-call-unmute"})})}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:Object(s.jsx)("button",{className:"btn btn-link",onClick:function(){e._holdCall()},children:Object(s.jsx)("i",{className:e.isHold?"icon-call-service icon-call-play":"icon-call-service icon-call-pause"})})}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:Object(s.jsx)("button",{onClick:function(){n.isShow?t(Object(o.g)()):t(Object(o.c)(c.phoneNumber))},className:"btn btn-link",children:Object(s.jsx)("i",{className:"icon-call-service icon-call-customer-info"})})}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:Object(s.jsx)("button",{className:"btn btn-link",onClick:function(){return e._endCall()},children:Object(s.jsx)("i",{className:"icon-call-service icon-call-reject"})})})]}):"outbound"!==e.state.callType||e.inCall?"inbound"!==e.state.callType||e.inCall?Object(s.jsx)(s.Fragment,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"col-md-4 text-center",children:Object(s.jsx)("button",{className:"btn btn-link",onClick:function(){return e._activeCall()},children:Object(s.jsx)("i",{className:"icon-call-service icon-call-accept"})})}),Object(s.jsx)("div",{className:"col-md-4 text-center",children:Object(s.jsx)("button",{onClick:function(){n.isShow?t(Object(o.g)()):t(Object(o.c)(c.phoneNumber))},className:"btn btn-link",children:Object(s.jsx)("i",{className:"icon-call-service icon-call-customer-info"})})}),Object(s.jsx)("div",{className:"col-md-4 text-center",children:Object(s.jsx)("button",{className:"btn btn-link",onClick:function(){return e._endCall()},children:Object(s.jsx)("i",{className:"icon-call-service icon-call-reject"})})})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"col-md-3 col-md-offset-3 text-center",children:Object(s.jsx)("button",{onClick:function(){n.isShow?t(Object(o.g)()):t(Object(o.c)(c.phoneNumber))},className:"btn btn-link",children:Object(s.jsx)("i",{className:"icon-call-service icon-call-customer-info"})})}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:Object(s.jsx)("button",{className:"btn btn-link",onClick:function(){return e._endCall()},children:Object(s.jsx)("i",{className:"icon-call-service icon-call-reject"})})})]})}var u=n(33);function b(){var e=Object(r.c)((function(e){return e.customer}));return{_renderCustomerInfo:function(){return null===e.infoCustomer?"(Kh\xf4ng x\xe1c \u0111\u1ecbnh)":"".concat(e.infoCustomer.type," ").concat(e.infoCustomer.customerName)}}}var j=n(56),p=function(e){return new Promise((function(t,n){var c=document.createElement("script");c.src=e,c.addEventListener("load",(function(){t()})),c.addEventListener("error",(function(e){n(e)})),document.body.appendChild(c)}))},f=function(e){return new Promise((function(t,n){var c=document.createElement("link");c.href=e,c.rel="stylesheet",c.type="text/css",c.addEventListener("load",(function(){t()})),c.addEventListener("error",(function(e){n(e)})),document.body.appendChild(c)}))},m=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")},O=function(e){return null!==e?"".concat(e.substring(0,2),"******").concat(e.substring(e.length-2,e.length)):"N/A"},v=n(12),h=n(7),w=n(18),x=n(8),y=n.n(x),C=(n(30),n(121),function(e){var t=Object(c.useState)(!1),n=Object(w.a)(t,2),a=(n[0],n[1]),i=Object(c.useState)(0),l=Object(w.a)(i,2),d=l[0],j=l[1],f=Object(c.useState)(!1),v=Object(w.a)(f,2),x=(v[0],v[1]),y=Object(c.useState)({prescreenRlistings:null,leadDeals:null}),C=Object(w.a)(y,2),g=(C[0],C[1],b()._renderCustomerInfo),I=Object(u.a)()._transfer,N=Object(r.b)(),_=Object(r.c)((function(e){return e.customer})),T=Object(r.c)((function(e){return e.call}));Object(c.useEffect)((function(){a(!0),x(!0),p("https://cdnjs.cloudflare.com/ajax/libs/defiant.js/2.2.7/defiant.min.js").then((function(){console.log("Defiant")}));document.getElementsByClassName("content").length>0&&document.getElementsByClassName("content")[0].clientHeight;var e=document.getElementsByClassName("main-header").length>0?document.getElementsByClassName("main-header")[0].clientHeight:50;j(e)}),[]);var k=function(e,t){var n,c=Object(h.a)({},e);c.list=e.list.map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{keyIndex:t})})),c=JSON.parse(m(JSON.stringify(c))),t=m(t);var a=window.defiant,i=a.getSnapshot(c),l=a.search(i,'//list[id[contains(text(),"'.concat(t,'")] or address[contains(text(),"').concat(t,'")] or assignedName[contains(text(),"').concat(t,'")]]/keyIndex'));return n=l.map((function(t){return e.list[t]})),{count:l.length,list:n}};Object(c.useEffect)((function(){if(""!==_.keyword&&window.defiant){var e={};e.prescreenRlistings=k(_.listingsClone.prescreenRlistings,_.keyword),e.leadDeals=k(_.listingsClone.leadDeals,_.keyword),N(Object(o.f)(e))}else N(Object(o.f)(_.listingsClone))}),[_.keyword]);var S=function(e){var t=e.type,n=e.id,c=e.assignedTo,a=null,i=window.location.origin;switch(t){case"LEAD":a="".concat(i,"/lead/detail/").concat(n);break;case"DEAL":a="".concat(i,"/deal/detail/").concat(n);break;case"PRESCREEN":a="".concat(i,"/pos/prescreener/detail/").concat(n);break;case"RLISTING":a="".concat(i,"/pos/sa/detail/").concat(n);break;default:a="#"}return window.currentUser.userId==c?Object(s.jsx)("a",{target:"_blank",href:a,children:n}):Object(s.jsx)("b",{children:n})},D=_.listings.prescreenRlistings?Object(s.jsx)("div",{className:"customer-info-collapse collapse",id:"prescreenRlistings",children:Object(s.jsx)("div",{className:"row",children:_.listings.prescreenRlistings.list.map((function(e){var t;return Object(s.jsx)("div",{className:"col-md-12",style:{lineHeight:"25px"},children:Object(s.jsxs)("div",{className:"customer-info-item",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:S(e)}),Object(s.jsx)("span",{className:"customer-info-status",children:e.statusName})]}),Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:e.formatDetail})}),Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:e.address})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{style:{color:e.online?"green":"gray"},className:"fa fa-circle"})," ",Object(s.jsx)("span",{children:e.assignedName})," ",e.online&&null!==e.voip3CXId&&(null===(t=window)||void 0===t?void 0:t.currentUser)&&window.currentUser.userId!=e.assignedTo&&T.inCall&&"inbound"===T.callType&&Object(s.jsx)("button",{onClick:function(){I(e.voip3CXId)},className:"btn btn-link",children:Object(s.jsx)("i",{className:"fa fa-phone"})})]})]})})}))})}):"",E=_.listings.leadDeals?Object(s.jsx)("div",{className:"customer-info-collapse collapse",id:"leadDeals",children:Object(s.jsx)("div",{className:"row",children:_.listings.leadDeals.list.map((function(e){var t;return Object(s.jsx)("div",{className:"col-md-12",style:{lineHeight:"25px"},children:Object(s.jsxs)("div",{className:"customer-info-item",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:S(e)}),Object(s.jsx)("span",{className:"customer-info-status",children:e.statusName})]}),Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:e.formatDetail})}),Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:e.address})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{style:{color:e.online?"green":"gray"},className:"fa fa-circle"})," ",Object(s.jsx)("span",{children:e.assignedName})," ",e.online&&null!==e.voip3CXId&&(null===(t=window)||void 0===t?void 0:t.currentUser)&&window.currentUser.userId!=e.assignedTo&&T.inCall&&"inbound"===T.callType&&Object(s.jsx)("button",{onClick:function(){I(e.voip3CXId)},className:"btn btn-link",children:Object(s.jsx)("i",{className:"fa fa-phone"})})]})]})})}))})}):"";return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{style:{width:"300px",position:"fixed",height:"93vh",top:d,overflow:"auto",right:0,boxShadow:"3.6px 12.5px 18px 0 rgba(0, 0, 0, 0.17)",backgroundColor:"#fff",padding:"20px",zIndex:6},className:"customer-info",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-12 customer-info-username",children:g()}),Object(s.jsx)("div",{className:"col-md-12 customer-info-phone",children:O(T.phoneNumber)}),Object(s.jsx)("div",{className:"col-md-12 customer-info-search",children:Object(s.jsx)("input",{class:"form-control",onChange:function(e){N(Object(o.e)(e.target.value))},value:_.keyword,placeholder:"T\xecm theo ID, T\xean, \u0110\u1ecba ch\u1ec9"})}),Object(s.jsxs)("div",{className:"col-md-12 customer-info-group-item",children:[Object(s.jsxs)("div",{className:"head-collapse accordion-toggle collapsed","data-toggle":"collapse","data-target":"#prescreenRlistings",children:[Object(s.jsxs)("b",{children:["B\xc1N & CHO THU\xca (",_.listings.prescreenRlistings?_.listings.prescreenRlistings.count:"0",")"]})," "]}),D]}),Object(s.jsxs)("div",{className:"col-md-12 customer-info-group-item",children:[Object(s.jsxs)("div",{className:"head-collapse accordion-toggle collapsed","data-toggle":"collapse","data-target":"#leadDeals",children:[Object(s.jsxs)("b",{children:["MUA & THU\xca (",_.listings.leadDeals?_.listings.leadDeals.count:"0",")"]})," "]}),E]})]})})})}),g=n(34),I=n(190),N=n(191),_=function(e){var t,n=Object(c.useRef)();return Object(s.jsxs)(I.a,{className:"".concat(e.className),show:e.isDisplay,onHide:e.onCancelAction,enforceFocus:!1,keyboard:!1,backdrop:"static",size:"lg",id:"".concat(e.id),children:[Object(s.jsx)(I.a.Header,{children:Object(s.jsx)(I.a.Title,{children:e.title})}),Object(s.jsx)(I.a.Body,{children:e.children}),Object(s.jsxs)(I.a.Footer,{children:[(null===(t=window)||void 0===t?void 0:t.fe_service_minimize)&&e.isMinimize&&Object(s.jsx)(N.a,{variant:"default",size:"lg",onClick:function(){window.fe_service_minimize("#".concat(e.id),"hide")},children:"Thu g\u1ecdn"}),Object(s.jsx)(N.a,{ref:n,variant:"success",size:"lg",onClick:function(t){n.current&&n.current.setAttribute("disabled","disabled"),e.onSubmit()||n.current.removeAttribute("disabled")},children:"L\u01b0u"})]})]})},T="1631789878",k=window.FE_HUB,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"HISTORY_CALL_DENIED",t=f("".concat(k,"fe-comment-category/css/2.chunk.css?v=").concat(T)),n=f("".concat(k,"fe-comment-category/css/main.chunk.css?v=").concat(T)),c=p("".concat(k,"fe-comment-category/js/2.chunk.js?v=").concat(T)),a=p("".concat(k,"fe-comment-category/js/3.chunk.js?v=").concat(T)),i=p("".concat(k,"fe-comment-category/js/main.chunk.js?v=").concat(T)),l=p("".concat(k,"fe-comment-category/js/runtime-main.js?v=").concat(T));Promise.all([t,n,c,a,i,l]).then((function(){Window.setTypeGetCommentCategory(e)}))},D=n(14),E=function(){var e=Object(r.c)((function(e){return e.call})),t=Object(r.b)(),n=Object(c.useState)(!1),a=Object(w.a)(n,2),i=a[0],l=a[1];Object(c.useEffect)((function(){l(!0)}),[]),Object(c.useEffect)((function(){i&&S()}),[i]);return Object(s.jsxs)(s.Fragment,{children:[!i&&Object(s.jsx)("button",{style:{position:"fixed",zIndex:"9999999999999999",right:0,bottom:0},onClick:function(){l(!i)},id:"appCall",className:"btn btn-default",children:"M\u1edf r\u1ed9ng"}),Object(s.jsx)(_,{id:"rejectCallModal",isDisplay:i,title:"T\u1eeb ch\u1ed1i cu\u1ed9c g\u1ecdi",className:"in custom-modal",onCancelAction:function(){return t(Object(D.h)())},onSubmit:function(){var n=Window.validateCommentCategory();if(n){var c={propzyCallId:e.propzyId,entityType:"UNDEFINED",entityId:null,direction:e.callType,startedDate:null,endedDate:null,connectedDate:null,featureCode:"HISTORY_CALL_DENIED",comments:n};return Object(v.a)(y.a.mark((function e(){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(c);case 2:a=e.sent,null!==(n=window)&&void 0!==n&&n.showPropzyAlert&&window.showPropzyAlert(a.message),a.result&&"200"===a.code&&(t(Object(D.h)(!1)),t({type:"call/resetState"}));case 5:case"end":return e.stop()}}),e)})))(),!0}return!1},isMinimize:!0,children:Object(s.jsx)("div",{className:"custom-modal-wrap",children:Object(s.jsx)("div",{id:"comment-category"})})})]})},P=n(85),R=(n(182),n(81)),z=n.n(R),A=(n(124),function(){var e=Object(u.a)()._updateTrackHistoryCall,t=Object(r.c)((function(e){return e.call})),n=Object(r.b)(),a=Object(c.useState)(!1),i=Object(w.a)(a,2),l=i[0],o=i[1],d=Object(c.useState)([]),b=Object(w.a)(d,2),j=b[0],p=b[1],f=Object(c.useState)(!1),m=Object(w.a)(f,2),O=m[0],x=m[1],C=Object(c.useState)({label:"",value:""}),I=Object(w.a)(C,2),N=I[0],T=I[1],k=Object(c.useState)(!1),D=Object(w.a)(k,2),E=D[0],R=D[1],A=Object(c.useState)(null),U=Object(w.a)(A,2),L=U[0],H=U[1];Object(c.useEffect)((function(){o(!0)}),[]),Object(c.useEffect)((function(){l&&(S("HISTORY_CALL"),X())}),[l]);var X=function(){var e=Object(v.a)(y.a.mark((function e(){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(t.phoneNumber);case 2:(n=e.sent).result&&n.data&&((c=n.data.map((function(e){var t="";switch(e.type){case"DEAL":t="Deal ".concat(e.id," - ").concat(e.listingTypeName," - ").concat(e.propertyTypeName," - ").concat(e.formatPrice," - CRM: ").concat(e.assignedName);break;case"LEAD":t="Lead ".concat(e.id," - ").concat(e.listingTypeName," - ").concat(e.propertyTypeName," - ").concat(e.formatPrice," - CRM: ").concat(e.assignedName);break;case"PRESCREEN":t="Prescreen ".concat(e.id," - ").concat(e.address," - CRM: ").concat(e.assignedName);break;case"RLISTING":t="Listing ".concat(e.id," - ").concat(e.address," - CRM: ").concat(e.assignedName)}return{label:t,value:"".concat(e.type,"-").concat(e.id)}}))).push({label:"Kh\xf4ng c\xf3 trong danh s\xe1ch, Nhu c\u1ea7u m\u1edbi",value:"UNDEFINED-null"}),p(c)),x(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M={control:function(e){return Object(h.a)(Object(h.a)({},e),{},{borderRadius:"none"})}};return Object(s.jsxs)(s.Fragment,{children:[!l&&Object(s.jsx)("button",{style:{position:"fixed",zIndex:"9999999999999999",right:0,bottom:0},onClick:function(){o(!l)},id:"appCall",className:"btn btn-default",children:"M\u1edf r\u1ed9ng"}),Object(s.jsx)(_,{id:"hisCallModal",isDisplay:l,title:"K\u1ebft Qu\u1ea3 Cu\u1ed9c G\u1ecdi",className:"in custom-modal",onCancelAction:function(){return o(!1)},onSubmit:function(){var c=Window.validateCommentCategory();if(!N.label&&"inbound"===t.callType)return R(!0),!1;if(c){var a,i,l={propzyCallId:t.propzyId,entityType:"outbound"===t.callType?t.dataPostUpdateCall.entityType:""!==N.value?N.value.split("-")[0]:"UNDEFINED",entityId:"outbound"===t.callType?t.dataPostUpdateCall.entityId:""!==N.value?"null"===N.value.split("-")[1]?null:N.value.split("-")[1]:null,direction:t.callType,startedDate:t.timer.startedDate,endedDate:t.timer.endedDate,connectedDate:t.timer.connectedDate,featureCode:"HISTORY_CALL",comments:c,defineId:null!==(a=t.dataPostUpdateCall)&&void 0!==a&&a.defineId?t.dataPostUpdateCall.defineId:null,fromTaskId:null!==(i=t.dataPostUpdateCall)&&void 0!==i&&i.fromTaskId?t.dataPostUpdateCall.defineId:null,reminderTime:null!==L?L.getTime():L};return Object(v.a)(y.a.mark((function c(){var a,i,r,o,s,d,u,b,j,p;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e(l);case 2:i=c.sent,null!==(a=window)&&void 0!==a&&a.showPropzyAlert&&window.showPropzyAlert(i.message),i.result&&"200"===i.code&&(n({type:"call/resetState"}),u=Object(h.a)(Object(h.a)({},JSON.parse(t.callConfig||{})),{},{callId:(null===(r=window)||void 0===r||null===(o=r._storeConfigCall)||void 0===o?void 0:o.callId)||"",callEvent:(null===(s=window)||void 0===s||null===(d=s._storeConfigCall)||void 0===d?void 0:d.callEvent)||{}}),window._storeConfigCall=u,b=window._storeConfigCall.callId,j=window._storeConfigCall.callEvent[b],"function"===typeof(p=null===j||void 0===j?void 0:j.onSubmitHistoryCall)&&p());case 5:case"end":return c.stop()}}),c)})))(),!0}return!1},isMinimize:!0,children:Object(s.jsxs)("div",{className:"custom-modal-wrap",children:["inbound"===t.callType&&Object(s.jsxs)("div",{className:"custom-modal-select-box",children:[Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:"Cu\u1ed9c g\u1ecdi li\xean quan \u0111\u1ebfn"})}),Object(s.jsx)("div",{className:"custom-modal-select-box-wrap",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-11",children:Object(s.jsx)("div",{className:"custom-modal-select",children:Object(s.jsx)(P.a,{placeholder:!1,styles:M,options:j,value:N,onChange:function(e){return function(e){R(!1),T(e)}(e)}})})}),Object(s.jsx)("div",{className:"col-md-1",children:Object(s.jsxs)("div",{style:{cursor:"pointer"},className:"custom-modal-reload-symbol",onClick:function(){T({label:"",value:""}),x(!0),X()},children:[O&&Object(s.jsx)("i",{style:{color:"#488df3"},className:"fa fa-2x fa-refresh fa-spin"}),!O&&Object(s.jsx)("i",{style:{color:"#488df3"},className:"fa fa-2x fa-refresh"})]})})]})}),E&&Object(s.jsx)("div",{className:"title-red",children:"Vui l\xf2ng ch\u1ecdn cu\u1ed9c g\u1ecdi li\xean quan \u0111\u1ebfn"})]}),Object(s.jsx)("div",{id:"comment-category"}),("outbound"===t.callType&&"DEAL"===t.dataPostUpdateCall.entityType||"outbound"===t.callType&&"LEAD"===t.dataPostUpdateCall.entityType)&&Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Thi\u1ebft l\u1eadp nh\u1eafc nh\u1edf"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)(z.a,{className:"form-control",showTimeSelect:!0,timeIntervals:15,timeFormat:"HH:mm",dateFormat:"HH:mm dd/MM/yyyy",selected:L,onChange:function(e){return H(e)},filterTime:function(e){var t=new Date,n=new Date(e);return t.getTime()<n.getTime()},minDate:new Date})})})]})]})})]})});function U(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.call})),n=Object(r.c)((function(e){return e.customer})),c=Object(j.a)()._timeFormat,a=Object(u.a)(),i=(a._init,a._holdCall),l=a._mute,o=a._endCall,p=a._activeCall,f=b()._renderCustomerInfo;return Object(s.jsxs)(s.Fragment,{children:[t.isReject&&null!==t.propzyId&&Object(s.jsx)(E,{}),t.isHistory&&null!==t.propzyId&&Object(s.jsx)(A,{}),n.isShow&&Object(s.jsx)(C,{name:"",phone:""}),t.isShow&&!t.minimize?Object(s.jsx)("div",{style:{minHeight:"333px"},id:"appCall",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{style:{paddingRight:"10px"},className:"text-right",children:Object(s.jsx)("a",{onClick:function(){e({type:"call/setToggle"})},children:Object(s.jsx)("i",{className:"fa fa-window-minimize","aria-hidden":"true"})})})}),Object(s.jsx)("div",{className:"col-md-12 text-center",children:Object(s.jsx)("h4",{className:"call-service-call-name",children:f()})}),Object(s.jsx)("div",{className:"col-md-12 text-center call-service-call-phone",onClick:function(){return e({type:"call/increasement"})},children:O(t.phoneNumber)}),t.inCall&&Object(s.jsxs)("div",{className:"col-md-12 text-center call-service-call-time",style:{marginBottom:"160px"},children:[c(t.counter.minutes)," : ",c(t.counter.seconds)]}),!t.inCall&&Object(s.jsxs)("div",{className:"col-md-12 text-center call-service-call-status",style:{marginBottom:"160px"},children:["outbound"===t.callType&&"G\u1ecdi \u0111i ..."," ","inbound"===t.callType&&"G\u1ecdi \u0111\u1ebfn ..."]}),Object(s.jsx)(d,{state:t,isHold:t.status.isHold,isMute:t.status.isMute,inCall:t.inCall,_holdCall:i,_mute:l,_endCall:o,_activeCall:p})]})}):t.isShow&&t.minimize?Object(s.jsx)("div",{style:{padding:"10px"},id:"appCall",children:Object(s.jsxs)("a",{onClick:function(){e({type:"call/setToggle"})},children:["Nh\u1ea5n \u0111\u1ec3 quay l\u1ea1i cu\u1ed9c g\u1ecdi ","outbound"===t.callType&&!t.inCall&&"g\u1ecdi \u0111i ..."," ","inbound"===t.callType&&!t.inCall&&"g\u1ecdi \u0111\u1ebfn ..."," ",t.inCall&&"".concat(c(t.counter.minutes)," : ").concat(c(t.counter.seconds))]})}):""]})}var L=n(25),H=n(53),X=n(40),M=[Object(H.createStateSyncMiddleware)({predicate:function(e){return e.type}}),X.a],F=Object(L.b)({call:D.a,customer:o.a}),B=Object(L.d)(Object(H.withReduxStateSync)(F),{},L.a.apply(void 0,M));Object(H.initStateWithPrevTab)(B);var G=B;var J=function(){return Object(s.jsx)(r.a,{store:G,children:Object(s.jsx)(U,{})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,192)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),i(e),l(e)}))};l.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(J,{})}),document.getElementById("root")),W()},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));var c,a=n(12),i=n(8),l=n.n(i),r=n(78),o=n.n(r),s="GET",d="POST",u="PUT",b=null!==(c=window)&&void 0!==c&&c.currentUser?window.currentUser.token:null,j=function(){var e=Object(a.a)(l.a.mark((function e(t,n){var c,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.length>2&&void 0!==a[2]?a[2]:"",e.next=3,m(s,t,n,void 0,c);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(l.a.mark((function e(t,n,c){var a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:"",e.next=3,m(d,t,n,c,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(l.a.mark((function e(t,n,c){var a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:"",e.next=3,m(u,t,n,c,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(l.a.mark((function e(t,n,c,a,i){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({url:c,baseURL:n,method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+b},data:JSON.stringify(a),cancelToken:i});case 3:return 401==(r=e.sent).status&&console.log(r.status),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,c,a,i){return e.apply(this,arguments)}}()},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return b}));var c,a=n(12),i=n(8),l=n.n(i),r=n(29),o="http://propzy-communication-service.preprod/communication/api/";null!==(c=window)&&void 0!==c&&c.BASE_API_CALL&&(o=window.BASE_API_CALL);var s=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.a)(o,"/3cx/get-customer-name-and-type-by-phone/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.a)(o,"/3cx/get-lead-deal-prescreen-rlistings-by-phone/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return Object(r.b)(o,"/3cx/init-track-history-call",e)},b=function(e){return Object(r.b)(o,"/3cx/update-after-finish-calling",e)}},33:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var c=n(21),a=n(12),i=n(9),l=n(7),r=n(18),o=n(8),s=n.n(o),d=n(0),u=n(79),b=(n(56),n(10)),j=n(17),p=n(14),f=n(34),m=["defineId","fromTaskId"];function O(){var t=Object(d.useState)(null),n=Object(r.a)(t,2),o=(n[0],n[1],Object(d.useState)(!1)),O=Object(r.a)(o,2),v=O[0],h=O[1],w=Object(b.b)(),x=(Object(b.c)((function(e){return e.pbx_3cx})),Object(b.c)((function(e){return e.call}))),y=Object(b.c)((function(e){return e.call.counter})),C=y.minutes,g=y.seconds;Object(b.c)((function(e){return e.inCall}));Window.endCallProcess=function(){w({type:"call/resetState"})},Window.bindCallEvent=function(e,t){var n,c=(null===(n=window._storeConfigCall)||void 0===n?void 0:n.callEvent)||{},a=Object(l.a)(Object(l.a)({},c),{},Object(i.a)({},e,t));window._storeConfigCall={callEvent:a}},Window.makeCallAppService=function(e){if(null===window.currentUser.voip3CXId)window.showPropzyAlert("Ch\u01b0a c\xe0i \u0111\u1eb7t SIP Phone cho t\xe0i kho\u1ea3n. Vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n l\xfd.");else{var t,n,c=e.phoneNumber;w(Object(j.b)(c)),w({type:"call/setPhoneNumber",phoneNumber:c}),w({type:"call/setIsSHow"}),Object(p.j)(window.currentUser.userId);var a=Object(l.a)({callId:(null===(t=window._storeConfigCall)||void 0===t?void 0:t.callId)||"",callEvent:null===(n=window._storeConfigCall)||void 0===n?void 0:n.callEvent},e),i=T(a);w(Object(p.b)(i)),window._storeConfigCall=a,w(Object(p.k)(JSON.stringify(a)))}},Object(d.useEffect)((function(){if(null!==x.propzyId&&!document.hidden&&null===x.callType){var t="".concat(x.phoneNumber,"+").concat(x.propzyId),n="#call9".concat(e.from(t).toString("base64"));console.log("makecall",n),window._pbx_3cx.Send_MakeCall_3CX(n)}}),[x.propzyId]),Object(d.useEffect)((function(){var e;x.callConfig&&Object.keys(x.callConfig).length>0&&(window._storeConfigCall=Object(l.a)(Object(l.a)({},JSON.parse(x.callConfig||{})),{},{callEvent:null===(e=window._storeConfigCall)||void 0===e?void 0:e.callEvent}),delete window._storeConfigCall.callConfig)}),[x.callConfig]);var I=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.a)({propzyCallId:x.propzyId,entityType:"outbound"===x.callType?x.dataPostUpdateCall.entityType:"UNDEFINED",entityId:"outbound"===x.callType?x.dataPostUpdateCall.entityId:null,direction:x.callType,startedDate:x.timer.startedDate,endedDate:x.timer.endedDate,connectedDate:x.timer.connectedDate,featureCode:"HISTORY_CALL",comments:null,defineId:null!==(n=x.dataPostUpdateCall)&&void 0!==n&&n.defineId?x.dataPostUpdateCall.defineId:null,fromTaskId:null!==(c=x.dataPostUpdateCall)&&void 0!==c&&c.fromTaskId?x.dataPostUpdateCall.defineId:null,reminderTime:null},t),e.next=3,Object(f.b)(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Window.updateTrackHistoryCall=I;var N=function(){null!==window._scopeState.counter.intervalId||document.hidden||!1===window.inCall&&(w(Object(p.i)({type:"connectedDate",value:(new Date).getTime()})),window.setIntervalId=setInterval((function(){w({type:"call/setSecond"})}),1e3),w({type:"call/setIncall",status:!0}),w({type:"call/setIntervalId",id:window.setIntervalId}),window.inCall=!0)},_=function(){var e=(new Date).getTime(),t=window._scopeState;if(null!==t.propzyId){var n,c;if(w(Object(p.c)()),"inbound"===t.callType&&t.inCall&&w(Object(p.l)({propzyCallId:t.propzyId,endedDate:e})),w(Object(p.i)({type:"endedDate",value:e})),"inbound"!==t.callType||t.inCall)(null===(n=window._storeConfigCall)||void 0===n||null===(c=n.otherParams)||void 0===c||!c.hidePopupHistoryCall)&&w(Object(p.g)());else t.actionRejectCall?w(Object(p.h)(!0)):w({type:"call/resetState"});w(Object(j.d)()),window.inCall=!1,window.setIntervalId&&clearInterval(window.setIntervalId)}},T=function(e){var t=null;t=null!==e?function(e){var t,n,c,a={entityType:null,entityId:null,direction:"outbound",phone:null!==(t=e.phoneNumber)&&void 0!==t&&t.phone?e.phoneNumber.phone:e.phoneNumber,extension:null!==(n=window)&&void 0!==n&&n.currentUser&&null!==(c=window.currentUser)&&void 0!==c&&c.voip3CXId?window.currentUser.voip3CXId:null,startedDate:(new Date).getTime(),p3RDSource:"3RD_3CX",appSource:"DB",fromTaskId:null!==e&&void 0!==e&&e.fromTaskId?e.fromTaskId:null,defineId:null!==e&&void 0!==e&&e.defineId?e.defineId:null};if(null!==e&&void 0!==e&&e.department){switch(e.department){case 1:a.entityType="PRESCREEN";break;case 2:a.entityType="RLISTING"}a.entityId=e.id}else if(null!==e&&void 0!==e&&e.dealId)a.entityType="DEAL",a.entityId=null!==e&&void 0!==e&&e.dealId?e.dealId:null;else if(null!==e&&void 0!==e&&e.leadId)a.entityType="LEAD",a.entityId=null!==e&&void 0!==e&&e.leadId?e.leadId:null;else{var i,l,r,o;null!==(i=window)&&void 0!==i&&i.deal&&(a.entityType="DEAL",a.entityId=null!==(r=window.deal)&&void 0!==r&&r.dealId?window.deal.dealId:null),null!==(l=window)&&void 0!==l&&l.lead&&(a.entityType="LEAD",a.entityId=null!==(o=window.lead)&&void 0!==o&&o.leadId?window.lead.leadId:null)}return a}(e):function(){var e,t;return{entityType:"UNDEFINED",entityId:null,direction:"inbound",phone:window._scopeState.phoneNumber,extension:null!==(e=window)&&void 0!==e&&e.currentUser&&null!==(t=window.currentUser)&&void 0!==t&&t.voip3CXId?window.currentUser.voip3CXId:null,startedDate:(new Date).getTime(),p3RDSource:"3RD_3CX",appSource:"DB"}}(),w(Object(p.e)(t));var n=t;n.defineId,n.fromTaskId;return Object(c.a)(n,m)};return Object(d.useEffect)((function(){window._scopeState=x}),[x]),Object(d.useEffect)((function(){v&&(window.inCall=!1,window.pbx_3CX&&(window._pbx_3cx=new window.pbx_3CX,window._pbx_3cx.Event_Error_3CX=function(e){window.$&&window._scopeState.isShow&&(_(),window.$("#modalNotOpenApp3CX").modal())},window._pbx_3cx.Event_Ended_3CX=function(e,t){var n;_();var c=(null===(n=window._storeConfigCall)||void 0===n?void 0:n.callId)||"",a=window._storeConfigCall.callEvent[c],i=null===a||void 0===a?void 0:a.onCallEnded;"function"===typeof i&&i()},window._pbx_3cx.Event_Ringing_3CX=function(e,t){if(t.Number==window.currentUser.voip3CXId&&(w({type:"call/resetState"}),w(Object(p.i)({type:"startedDate",value:(new Date).getTime()})),w({type:"call/setPhoneNumber",phoneNumber:e.OtherPartyNumber}),w({type:"call/setIsSHow"}),w({type:"call/setCallType",status:"inbound"}),w(Object(j.b)(e.OtherPartyNumber)),!document.hidden)){var n=T(null);w(Object(p.b)(n))}},window._pbx_3cx.Event_Dialing_3CX=function(e,t){null!==window._scopeState.propzyId&&(w(Object(p.i)({type:"startedDate",value:(new Date).getTime()})),w({type:"call/setCallType",status:"outbound"}))},window._pbx_3cx.Event_Connected_3CX=function(e,t){N()},window._pbx_3cx.Event_ChangeIsHold_3CX=function(e,t){w({type:"call/changeStatus",code:1,status:e})},window._pbx_3cx.Event_ChangeIsMute_3CX=function(e,t){w({type:"call/changeStatus",code:2,status:e})},window._pbx_3cx.Event_Connect_3CX_Listen_Extension=function(e){w(Object(p.f)(e.Number))},window._pbx_3cx.Start(1)))}),[v]),Object(d.useEffect)((function(){Object(u.a)((function(){h(!0)}))}),[]),{_activeCall:function(){window._pbx_3cx.Send_ActiveCall_3CX()},_endCall:function(){window._pbx_3cx.Send_DropCall_3CX(),w(Object(p.d)(!0))},_holdCall:function(){window._pbx_3cx.Send_Hold_3CX(!x.status.isHold)},_mute:function(){window._pbx_3cx.Send_Mute_3CX()},seconds:g,minutes:C,_start:N,_transfer:function(e){window._pbx_3cx.Send_Transfer_3CX(e)},_updateTrackHistoryCall:I}}}).call(this,n(116).Buffer)},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var c,a=n(12),i=n(8),l=n.n(i),r=n(29),o="http://propzy-communication-service.preprod/communication/api/";null!==(c=window)&&void 0!==c&&c.BASE_API_CALL&&(o=window.BASE_API_CALL);var s=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(o,"/3cx/get-lead-deal-prescreen-rlistings-for-dropdown-label/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.c)(o,"/3cx/update-track-history-call",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0);var c=n(10);function a(){var e=Object(c.b)();Object(c.c)((function(e){return e.call.counter.intervalId}));return{_start:function(){window.setIntervalId=setInterval((function(){e({type:"call/setSecond"})}),1e3)},_stop:function(){return clearInterval(window.setIntervalId)},_timeFormat:function(e){return e>9?""+e:"0"+e}}}},79:function(e,t,n){"use strict";t.a=function(e){var t=document.getElementById("3cx");if(!t){var n=document.createElement("script");n.src="https://api-propzy.ringbot.co/api3cx/pbx_3cx_live_v5.js",n.id="3cx",document.body.appendChild(n),n.onload=function(){e&&e()}}t&&e&&e()}},84:function(e,t){},92:function(e,t,n){}},[[177,1,2]]]);
//# sourceMappingURL=main.328dcf86.chunk.js.map